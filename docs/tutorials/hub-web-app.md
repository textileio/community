# Build a Web App using the Hub

In this tutorial, you'll learn how to generate user tokens so that your app users can leverage your Hub APIs. With this token, your users will be able to leverge Thread Services, create and edit Buckets, and use IPFS persistance right from the browser. You'll build it using a [_user group key_](../hub/app-apis.md) so that every user can use your API while maintaining their own ownership over the data they create.

## Getting Started

There are a few resources you'll need before you start writing code.

- [An account](../hub/accounts.md). This is your developer account on the Hub.
- [A user group key](../hub/app-apis.md). This is how your users will be able to access your Hub APIs. Consider creating the key in an organization not your personal account so that you can invite collaborators later.
- [A new Typescript web app](https://webpack.js.org/guides/typescript/). We recommend using Typescript, as Textile libraries are in a stage rapid of development and type detection is valuable during upgrades.

### API Access

A [_user group key_](../hub/app-apis.md) consists of a _key_ and a _secret_, which you'll never want to expose to users. However, for users to access your Hub resources, they'll need a token derived from their own identity and the user group's key and secret. So to use the Hub APIs in your web app, you have two options:

* Build a light-weight token endpoint accessible only by your app ([below](#building-a-token-endpoint)).
* Use the domain whitelisting to skip token generation ([in development](https://github.com/textileio/textile/issues/109))

We'll come back to option one in the second part of this tutorial.

## Building a simple web app

With your basic Typescript web app setup, you should have a primary `.ts` (or `.js` if you decided to stick with Javascript) file where your app is written. We'll work within this single file to start, but the instructions below should be adaptable to any application architecture.

### Generating an Identity

[hub ident](hub/libp2p-identities.md)

You can use any private-key derived identity for your users. In this example, we'll use a key-pair generated by the Libp2p Crypto library and made available through the `@textile/threads-core` library.

!!!info
    In the future we will support email-based identities, allowing you to more easily use the Hub APIs with common email-based user models. [Follow progress here](https://github.com/textileio/textile/issues/216).

**Install dependency**

```bash
npm install --save @textile/threads-core
```

Next, import `Libp2pCryptoIdentity` in your project.

```typescript
import {Libp2pCryptoIdentity} from '@textile/threads-core';
```

**Generating Identities**

You can use the `Libp2pCryptoIdentity` utility to generate random new identities or restore identities from their private key string.

```typescript

```

### Getting an API Token

### Creating a Bucket

### Updating a Bucket

## Building a endpoint

todo: add sockets info here.
