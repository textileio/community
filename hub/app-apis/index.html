



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Textile makes it easy for you or your application to store and distribute data over the IPFS network.">
      
      
        <link rel="canonical" href="https://docs.textile.io/hub/app-apis/">
      
      
        <meta name="author" content="textile.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.1.0">
    
    
      
        <title>App APIs | Documentation | Textile</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.86c34351.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/textile.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="default" data-md-color-accent="default">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#getting-started" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.textile.io/" title="Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/hex.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Documentation
            </span>
            <span class="md-header-nav__topic">
              App APIs
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.textile.io/" title="Documentation" class="md-nav__button md-logo">
      
        <img src="../../images/hex.svg" width="48" height="48">
      
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/textileio/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    textileio/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" target="" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      The Hub
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        The Hub
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" target="" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../accounts/" title="Accounts" target="" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../buckets/" title="Buckets" target="" class="md-nav__link">
      Buckets
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        App APIs
      </label>
    
    <a href="./" title="App APIs" class="md-nav__link md-nav__link--active">
      App APIs
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-access" title="API Access" class="md-nav__link">
    API Access
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#account-key" title="Account Key" class="md-nav__link">
    Account Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-key" title="User Key" class="md-nav__link">
    User Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-whitelisting" title="Domain whitelisting" class="md-nav__link">
    Domain whitelisting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#app-apis" title="App APIs" class="md-nav__link">
    App APIs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buckets" title="Buckets" class="md-nav__link">
    Buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadsdb" title="ThreadsDB" class="md-nav__link">
    ThreadsDB
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity-data-ownership" title="Identity &amp; data ownership" class="md-nav__link">
    Identity &amp; data ownership
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-identities" title="User identities" class="md-nav__link">
    User identities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libraries" title="Libraries" class="md-nav__link">
    Libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-threadsdb" title="Create a user owned ThreadsDB" class="md-nav__link">
    Create a user owned ThreadsDB
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-user-session" title="Create a new user session" class="md-nav__link">
    Create a new user session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-db-with-the-user-identity" title="Create a db with the user identity" class="md-nav__link">
    Create a db with the user identity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-thread-for-their-buckets" title="Create a user owned thread for their buckets" class="md-nav__link">
    Create a user owned thread for their buckets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-bucket" title="Create a user owned Bucket" class="md-nav__link">
    Create a user owned Bucket
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-user-session_1" title="Create a new user session" class="md-nav__link">
    Create a new user session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-db-with-the-user-identity_1" title="Create a db with the user identity" class="md-nav__link">
    Create a db with the user identity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-thread-for-their-buckets_1" title="Create a user owned thread for their buckets" class="md-nav__link">
    Create a user owned thread for their buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-a-new-bucket-in-the-db" title="Initialize a new bucket in the db" class="md-nav__link">
    Initialize a new bucket in the db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push-a-files-to-the-bucket" title="Push a files to the bucket" class="md-nav__link">
    Push a files to the bucket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt/" title="CLI Docs" target="" class="md-nav__link">
      CLI Docs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      ThreadsDB
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        ThreadsDB
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../threads/introduction/" title="Introduction" target="" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <!-- Added the Links filter so we could do target=_blank for a bit better ux -->
  
  
  
    
    
    


  <li class="md-nav__item">
    <a href="https://textileio.github.io/js-threads" title="JavaScript" target="_blank" class="md-nav__link">
      JavaScript
    </a>
  </li>

  
    
    
    


  <li class="md-nav__item">
    <a href="https://godoc.org/github.com/textileio/go-threads" title="Golang" target="_blank" class="md-nav__link">
      Golang
    </a>
  </li>

  
    
    
    


  <li class="md-nav__item">
    <a href="https://textileio.github.io/dart-threads-client" title="Dart" target="_blank" class="md-nav__link">
      Dart
    </a>
  </li>

  
  

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Filecoin Powergate
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Filecoin Powergate
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../powergate/introduction/" title="Introduction" target="" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/textileio/powergate/#powergate" title="Powergate" target="" class="md-nav__link">
      Powergate
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Hub CLI
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Hub CLI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_login/" title="Login" target="" class="md-nav__link">
      Login
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_logout/" title="Logout" target="" class="md-nav__link">
      Logout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_whoami/" title="Whoami" target="" class="md-nav__link">
      Whoami
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_orgs/" title="Orgs" target="" class="md-nav__link">
      Orgs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_buckets/" title="Buckets" target="" class="md-nav__link">
      Buckets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_threads/" title="Threads" target="" class="md-nav__link">
      Threads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/tt_keys/" title="API Keys" target="" class="md-nav__link">
      API Keys
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Resources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Resources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      ThreadsDB
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        ThreadsDB
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <!-- Added the Links filter so we could do target=_blank for a bit better ux -->
  
  
  
    
    
    


  <li class="md-nav__item">
    <a href="https://github.com/textileio/js-examples/tree/master/react-todo" title="React App" target="_blank" class="md-nav__link">
      React App
    </a>
  </li>

  
    
    
    


  <li class="md-nav__item">
    <a href="https://github.com/textileio/js-examples/tree/master/react-3box-threadsdb" title="3Box Identities" target="_blank" class="md-nav__link">
      3Box Identities
    </a>
  </li>

  
    
    
    


  <li class="md-nav__item">
    <a href="https://github.com/textileio/js-examples/tree/master/react-native-client-app" title="React Native App" target="_blank" class="md-nav__link">
      React Native App
    </a>
  </li>

  
  

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Buckets
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Buckets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/static-websites/" title="Website Hosting" target="" class="md-nav__link">
      Website Hosting
    </a>
  </li>

        
          
          
          


  <!-- Added the Links filter so we could do target=_blank for a bit better ux -->
  
  
  
    
    
    


  <li class="md-nav__item">
    <a href="https://github.com/textileio/js-examples/tree/master/react-3box-threadsdb" title="3Box User Buckets" target="_blank" class="md-nav__link">
      3Box User Buckets
    </a>
  </li>

  
  

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-access" title="API Access" class="md-nav__link">
    API Access
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#account-key" title="Account Key" class="md-nav__link">
    Account Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-key" title="User Key" class="md-nav__link">
    User Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain-whitelisting" title="Domain whitelisting" class="md-nav__link">
    Domain whitelisting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#app-apis" title="App APIs" class="md-nav__link">
    App APIs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#buckets" title="Buckets" class="md-nav__link">
    Buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadsdb" title="ThreadsDB" class="md-nav__link">
    ThreadsDB
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity-data-ownership" title="Identity &amp; data ownership" class="md-nav__link">
    Identity &amp; data ownership
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-identities" title="User identities" class="md-nav__link">
    User identities
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libraries" title="Libraries" class="md-nav__link">
    Libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-threadsdb" title="Create a user owned ThreadsDB" class="md-nav__link">
    Create a user owned ThreadsDB
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-user-session" title="Create a new user session" class="md-nav__link">
    Create a new user session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-db-with-the-user-identity" title="Create a db with the user identity" class="md-nav__link">
    Create a db with the user identity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-thread-for-their-buckets" title="Create a user owned thread for their buckets" class="md-nav__link">
    Create a user owned thread for their buckets
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-bucket" title="Create a user owned Bucket" class="md-nav__link">
    Create a user owned Bucket
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-new-user-session_1" title="Create a new user session" class="md-nav__link">
    Create a new user session
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-db-with-the-user-identity_1" title="Create a db with the user identity" class="md-nav__link">
    Create a db with the user identity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-user-owned-thread-for-their-buckets_1" title="Create a user owned thread for their buckets" class="md-nav__link">
    Create a user owned thread for their buckets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialize-a-new-bucket-in-the-db" title="Initialize a new bucket in the db" class="md-nav__link">
    Initialize a new bucket in the db
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#push-a-files-to-the-bucket" title="Push a files to the bucket" class="md-nav__link">
    Push a files to the bucket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">

            <article class="md-content__inner md-typeset">
              
                
                
                  <a href="https://github.com/textileio/docs/edit/master/docs/hub/app-apis.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="getting-started">Getting Started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h1>
<p>Use the Hub to help scale your applications on IFPS. The Hub APIs are available for your apps and your app users. You can use the Hub APIs with a privileged <a href="#account-key">Account API Key</a> or with a <a href="#user-key">User Key</a>. Both have the ability to push new data to Buckets, persist ThreadsDB data, and relay ThreadsDB updates.</p>
<h2 id="api-access">API Access<a class="headerlink" href="#api-access" title="Permanent link">&para;</a></h2>
<p><img alt="" src="/images/tt-cli/tt_account_create_select.png" /></p>
<h3 id="account-key">Account Key<a class="headerlink" href="#account-key" title="Permanent link">&para;</a></h3>
<p>Account keys make it possible to build apps that have full access to developer or organization Buckets. You can use account keys to integrate your Buckets into CI, dashboards, team messaging integration, etc. To create a new Account Key using <code>tt key create</code> and selecting the <code>account</code> option.</p>
<p><em><a href="/hub/cli/tt_keys">See CLI options</a></em></p>
<h3 id="user-key">User Key<a class="headerlink" href="#user-key" title="Permanent link">&para;</a></h3>
<p>User keys make it possible to build apps that use developer resources on behalf of users. Apps can create Buckets for users or persist and replicate ThreadsDB for users. have full access to developer or organization Buckets. A single user key can be added to your app to authenticate many users to your Hub resources. To create a new User Key using <code>tt key create</code> and selecting the <code>user</code> option. Also see Identity section and how to use identity providers such as 3Box with user keys.</p>
<p><em><a href="/hub/cli/tt_keys">See CLI commands</a></em></p>
<h3 id="domain-whitelisting">Domain whitelisting<a class="headerlink" href="#domain-whitelisting" title="Permanent link">&para;</a></h3>
<p>If you are building a web application, you can use domain whitelisting to access the same resources without embedding keys in your application. You can track the release of <a href="https://github.com/textileio/textile/issues/109">domain whitelisting here</a>.</p>
<h2 id="app-apis">App APIs<a class="headerlink" href="#app-apis" title="Permanent link">&para;</a></h2>
<h3 id="buckets">Buckets<a class="headerlink" href="#buckets" title="Permanent link">&para;</a></h3>
<p><a href="/hub/buckets">Buckets</a> provide S3-like data storage on IPFS. Just as you can create Buckets with the <a href="/hub/cli/tt">Hub CLI</a>, you can create Buckets using JavaScript with <a href="#libraries">js-textile</a>. </p>
<p>The <a href="#libraries">js-textile</a> library allows you to create and edit Buckets owned by you or your organization using an <a href="#account-key">account key</a>. Alternatively, you can use Buckets to store your user's data using a <a href="#user-key">user key</a>.</p>
<h3 id="threadsdb">ThreadsDB<a class="headerlink" href="#threadsdb" title="Permanent link">&para;</a></h3>
<p><a href="/threads/introduction">ThreadsDB</a> is a mongo-like database that runs on IPFS. You can use it in combination with <a href="#libraries">js-textile</a> to add replication and relay to your user's databases. When combined, <code>js-threads</code> and <code>js-textile</code> allow you to embed private, p2p databases in yoru app that use remote IFPS peers for pinning and remote ThreadDB peers to relay updates to all parties. This configuration will help you scale your app and offer the highest quality experience to your users.</p>
<h2 id="identity-data-ownership">Identity &amp; data ownership<a class="headerlink" href="#identity-data-ownership" title="Permanent link">&para;</a></h2>
<p>The databases and Buckets you create over the API are owned in one of three ways.</p>
<ol>
<li>Developer owned. If you use an <code>account key</code> with the Buckets or ThreadsDB APIs, the data will be linked directly to your account.</li>
<li>Org owned. If you create an <code>account key</code> using the <code>--org</code> flag, the Buckets and Threads will be linked to the organization.</li>
<li>User owned. If you create a <code>user key</code>, Textile allows your app to provision new Buckets and Threads on behalf of your users. This data will be signed and owned by your end-users and only accessible to them. Read more on <a href="/threads/introduction#identity">Threads Identity</a></li>
</ol>
<h3 id="user-identities">User identities<a class="headerlink" href="#user-identities" title="Permanent link">&para;</a></h3>
<p>User identities are flexible and can be defined in a way most suitable for your application. In the <a href="#examples">examples</a> below we use private-key based identities exactly how Libp2p does. You can also use external identity providers or custom user identities. </p>
<h2 id="libraries">Libraries<a class="headerlink" href="#libraries" title="Permanent link">&para;</a></h2>
<p>You can find all remote Thread and Bucket APIs in the <code>textile</code> libraries below. These libraries are meant to work in combination with the <code>threads</code> libraries when you want to create and manage Threads database in your app. </p>
<p>Here are the libraries you will find useful to start building today.</p>
<table>
<thead>
<tr>
<th></th>
<th align="center">ThreadsDB</th>
<th align="center">Threads APIs &amp; Buckets</th>
</tr>
</thead>
<tbody>
<tr>
<td>Browser, React Native, &amp; NodeJS</td>
<td align="center"><a href="https://textileio.github.io/js-threads">js-threads</a> <br/> <a href="https://textileio.github.io/js-threads-client">js-threads-client</a></td>
<td align="center"><a href="https://textileio.github.io/js-textile">js-textile</a></td>
</tr>
<tr>
<td>Dart &amp; Flutter Apps (<a href="https://github.com/textileio/dart-textile/issues/5">pending release</a>)</td>
<td align="center"><a href="https://textileio.github.io/dart-threads-client">dart-threads-client</a></td>
<td align="center"><a href="https://textileio.github.io/dart-textile">dart-textile</a></td>
</tr>
<tr>
<td>Golang Libraries</td>
<td align="center"><a href="https://godoc.org/github.com/textileio/go-threads">go-threads</a></td>
<td align="center"></td>
</tr>
<tr>
<td>Command-line</td>
<td align="center"><em>thread-shell (coming)</em></td>
<td align="center"><a href="/hub/cli/tt">Hub CLI</a></td>
</tr>
</tbody>
</table>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<h3 id="create-a-user-owned-threadsdb">Create a user owned ThreadsDB<a class="headerlink" href="#create-a-user-owned-threadsdb" title="Permanent link">&para;</a></h3>
<h5 id="create-a-new-user-session">Create a new user session<a class="headerlink" href="#create-a-new-user-session" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Context</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/textile&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/threads-client&#39;</span>

<span class="kd">let</span> <span class="nx">ctx</span>: <span class="kt">Context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Context</span><span class="p">()</span>

<span class="c1">// `USER_KEY` comes from `tt key create`</span>
<span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withAPIKey</span><span class="p">(</span><span class="nx">USER_KEY</span><span class="p">)</span>
</code></pre></div>

<h5 id="create-a-db-with-the-user-identity">Create a db with the user identity<a class="headerlink" href="#create-a-db-with-the-user-identity" title="Permanent link">&para;</a></h5>
<p>Your users can be defined by any available identity provider or use any private-key based identity, such as Libp2p's identities.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Libp2pCryptoIdentity</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>

<span class="kr">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">getToken</span><span class="p">(</span><span class="nx">identity</span><span class="p">)</span>
<span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withToken</span><span class="p">(</span><span class="nx">tok</span><span class="p">)</span>
</code></pre></div>

<h5 id="create-a-user-owned-thread-for-their-buckets">Create a user owned thread for their buckets<a class="headerlink" href="#create-a-user-owned-thread-for-their-buckets" title="Permanent link">&para;</a></h5>
<p>Buckets run on Threads, so your user will need a ThreadDB setup for thier own Buckets.</p>
<div class="highlight"><pre><span></span><code><span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withThreadName</span><span class="p">(</span><span class="s1">&#39;private-chat-0&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">ThreadID</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>
<span class="kr">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">newDB</span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">toBytes</span><span class="p">())</span>
</code></pre></div>

<p>See the <a href="https://textileio.github.io/js-threads">js-threads</a> documentation to learn more about using threads in your app.</p>
<h3 id="create-a-user-owned-bucket">Create a user owned Bucket<a class="headerlink" href="#create-a-user-owned-bucket" title="Permanent link">&para;</a></h3>
<h5 id="create-a-new-user-session_1">Create a new user session<a class="headerlink" href="#create-a-new-user-session_1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Context</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/textile&#39;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/threads-client&#39;</span>

<span class="kd">let</span> <span class="nx">ctx</span>: <span class="kt">Context</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Context</span><span class="p">()</span>

<span class="c1">// `USER_KEY` comes from `tt key create`</span>
<span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withAPIKey</span><span class="p">(</span><span class="nx">USER_KEY</span><span class="p">)</span>
</code></pre></div>

<h5 id="create-a-db-with-the-user-identity_1">Create a db with the user identity<a class="headerlink" href="#create-a-db-with-the-user-identity_1" title="Permanent link">&para;</a></h5>
<p>Your users can be defined by any available identity provider or use any private-key based identity, such as Libp2p's identities.</p>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Libp2pCryptoIdentity</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>

<span class="kr">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">tok</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">getToken</span><span class="p">(</span><span class="nx">identity</span><span class="p">)</span>
<span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withToken</span><span class="p">(</span><span class="nx">tok</span><span class="p">)</span>
</code></pre></div>

<h5 id="create-a-user-owned-thread-for-their-buckets_1">Create a user owned thread for their buckets<a class="headerlink" href="#create-a-user-owned-thread-for-their-buckets_1" title="Permanent link">&para;</a></h5>
<p>Buckets run on Threads, so your user will need a ThreadDB setup for thier own Buckets.</p>
<div class="highlight"><pre><span></span><code><span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withThreadName</span><span class="p">(</span><span class="s1">&#39;my-buckets&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">ThreadID</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>
<span class="kr">const</span> <span class="nx">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="nx">await</span> <span class="nx">db</span><span class="p">.</span><span class="nx">newDB</span><span class="p">(</span><span class="nx">id</span><span class="p">.</span><span class="nx">toBytes</span><span class="p">())</span>
<span class="nx">ctx</span> <span class="o">=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nx">withThread</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</code></pre></div>

<h5 id="initialize-a-new-bucket-in-the-db">Initialize a new bucket in the db<a class="headerlink" href="#initialize-a-new-bucket-in-the-db" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">buckets</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Buckets</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">buck</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">buckets</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">)</span>
</code></pre></div>

<h5 id="push-a-files-to-the-bucket">Push a files to the bucket<a class="headerlink" href="#push-a-files-to-the-bucket" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">pth</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s1">&#39;..&#39;</span><span class="p">,</span> <span class="s1">&#39;testdata&#39;</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">stream</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">pth</span><span class="p">,</span> <span class="s1">&#39;file1.jpg&#39;</span><span class="p">))</span>
<span class="kr">const</span> <span class="nx">rootKey</span> <span class="o">=</span> <span class="nx">buck</span><span class="p">.</span><span class="nx">root</span><span class="o">?</span><span class="p">.</span><span class="nx">key</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">root</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">buckets</span><span class="p">.</span><span class="nx">pushPath</span><span class="p">(</span><span class="nx">rootKey</span><span class="p">,</span> <span class="s1">&#39;dir1/file1.jpg&#39;</span><span class="p">,</span> <span class="nx">stream</span><span class="p">,</span> <span class="nx">ctx</span><span class="p">)</span>
</code></pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../buckets/" title="Buckets" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Buckets
              </span>
            </div>
          </a>
        
        
          <a href="../cli/tt/" title="CLI Docs" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                CLI Docs
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            &copy; Textile
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://textile.io" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/textileio" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/textileio" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://blog.textile.io/" class="md-footer-social__link fa fa-medium"></a>
    
      <a href="https://slack.textile.io" class="md-footer-social__link fa fa-slack"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.12aa63bf.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="../../js/sidebar.js"></script>
      
        <script src="../../search/main.js"></script>
      
    
  </body>
</html>