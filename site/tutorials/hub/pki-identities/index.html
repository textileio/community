<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta http-equiv="x-ua-compatible" content="ie=edge" />

		<meta
			name="description"
			content="Textile makes it easy for you or your application to store and distribute data over the IPFS network."
		/>

		<link
			rel="canonical"
			href="https://docs.textile.io/tutorials/hub/pki-identities/"
		/>

		<meta name="author" content="textile.io" />

		<meta name="lang:clipboard.copy" content="Copy to clipboard" />

		<meta name="lang:clipboard.copied" content="Copied to clipboard" />

		<meta name="lang:search.language" content="en" />

		<meta name="lang:search.pipeline.stopwords" content="True" />

		<meta name="lang:search.pipeline.trimmer" content="True" />

		<meta name="lang:search.result.none" content="No matching documents" />

		<meta name="lang:search.result.one" content="1 matching document" />

		<meta name="lang:search.result.other" content="# matching documents" />

		<meta name="lang:search.tokenizer" content="[\s\-]+" />

		<link rel="shortcut icon" href="../../../images/favicon.ico" />
		<meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.1.0" />

		<title>User identities | Documentation | Textile</title>

		<link
			rel="stylesheet"
			href="../../../assets/stylesheets/application.86c34351.css"
		/>

		<link
			rel="stylesheet"
			href="../../../assets/stylesheets/application-palette.224b79ff.css"
		/>

		<meta name="theme-color" content="" />

		<script src="../../../assets/javascripts/modernizr.01ccdecf.js"></script>

		<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono"
		/>
		<style>
			body,
			input {
				font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif;
			}
			code,
			kbd,
			pre {
				font-family: "Roboto Mono", "Courier New", Courier, monospace;
			}
		</style>

		<link rel="stylesheet" href="../../../assets/fonts/material-icons.css" />

		<link rel="stylesheet" href="../../../css/textile.css" />

		<script src="https://cdn.usefathom.com/3.js" site="TEBMKXIY"></script>
		<script>
			window.fathom ||
				document.write(
					'<script src="https://grouse.textile.io/core.js"><\/script>'
				);
		</script>
	</head>

	<body
		dir="ltr"
		data-md-color-primary="default"
		data-md-color-accent="default"
	>
		<svg class="md-svg">
			<defs>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="416"
					height="448"
					viewBox="0 0 416 448"
					id="__github"
				>
					<path
						fill="currentColor"
						d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"
					/>
				</svg>
			</defs>
		</svg>
		<input
			class="md-toggle"
			data-md-toggle="drawer"
			type="checkbox"
			id="__drawer"
			autocomplete="off"
		/>
		<input
			class="md-toggle"
			data-md-toggle="search"
			type="checkbox"
			id="__search"
			autocomplete="off"
		/>
		<label
			class="md-overlay"
			data-md-component="overlay"
			for="__drawer"
		></label>

		<a href="#user-identities" tabindex="1" class="md-skip">
			Skip to content
		</a>

		<header class="md-header" data-md-component="header">
			<nav class="md-header-nav md-grid">
				<div class="md-flex">
					<div class="md-flex__cell md-flex__cell--shrink">
						<a
							href="https://docs.textile.io/"
							title="Documentation"
							class="md-header-nav__button md-logo"
						>
							<img src="../../../images/hex.svg" width="24" height="24" />
						</a>
					</div>
					<div class="md-flex__cell md-flex__cell--shrink">
						<label
							class="md-icon md-icon--menu md-header-nav__button"
							for="__drawer"
						></label>
					</div>
					<div class="md-flex__cell md-flex__cell--stretch">
						<div
							class="md-flex__ellipsis md-header-nav__title"
							data-md-component="title"
						>
							<span class="md-header-nav__topic"> Documentation </span>
							<span class="md-header-nav__topic"> User identities </span>
						</div>
					</div>
					<div class="md-flex__cell md-flex__cell--shrink">
						<label
							class="md-icon md-icon--search md-header-nav__button"
							for="__search"
						></label>

						<div class="md-search" data-md-component="search" role="dialog">
							<label class="md-search__overlay" for="__search"></label>
							<div class="md-search__inner" role="search">
								<form class="md-search__form" name="search">
									<input
										type="text"
										class="md-search__input"
										name="query"
										placeholder="Search"
										autocapitalize="off"
										autocorrect="off"
										autocomplete="off"
										spellcheck="false"
										data-md-component="query"
										data-md-state="active"
									/>
									<label class="md-icon md-search__icon" for="__search"></label>
									<button
										type="reset"
										class="md-icon md-search__icon"
										data-md-component="reset"
										tabindex="-1"
									>
										&#xE5CD;
									</button>
								</form>
								<div class="md-search__output">
									<div class="md-search__scrollwrap" data-md-scrollfix>
										<div class="md-search-result" data-md-component="result">
											<div class="md-search-result__meta">
												Type to start searching
											</div>
											<ol class="md-search-result__list"></ol>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="md-flex__cell md-flex__cell--shrink">
						<div class="md-header-nav__source">
							<a
								href="https://github.com/textileio/docs/"
								title="Go to repository"
								class="md-source"
								data-md-source="github"
							>
								<div class="md-source__icon">
									<svg viewBox="0 0 24 24" width="24" height="24">
										<use xlink:href="#__github" width="24" height="24"></use>
									</svg>
								</div>

								<div class="md-source__repository">textileio/docs</div>
							</a>
						</div>
					</div>
				</div>
			</nav>
		</header>

		<div class="md-container">
			<main class="md-main">
				<div class="md-main__inner md-grid" data-md-component="container">
					<div
						class="md-sidebar md-sidebar--primary"
						data-md-component="navigation"
					>
						<div class="md-sidebar__scrollwrap">
							<div class="md-sidebar__inner">
								<nav class="md-nav md-nav--primary" data-md-level="0">
									<label
										class="md-nav__title md-nav__title--site"
										for="__drawer"
									>
										<a
											href="https://docs.textile.io/"
											title="Documentation"
											class="md-nav__button md-logo"
										>
											<img
												src="../../../images/hex.svg"
												width="48"
												height="48"
											/>
										</a>
										Documentation
									</label>

									<div class="md-nav__source">
										<a
											href="https://github.com/textileio/docs/"
											title="Go to repository"
											class="md-source"
											data-md-source="github"
										>
											<div class="md-source__icon">
												<svg viewBox="0 0 24 24" width="24" height="24">
													<use
														xlink:href="#__github"
														width="24"
														height="24"
													></use>
												</svg>
											</div>

											<div class="md-source__repository">textileio/docs</div>
										</a>
									</div>

									<ul class="md-nav__list" data-md-scrollfix>
										<li class="md-nav__item">
											<a
												href="../../.."
												title="Home"
												target=""
												class="md-nav__link"
											>
												Home
											</a>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-2"
												type="checkbox"
												id="nav-2"
											/>

											<label class="md-nav__link" for="nav-2">
												Filecoin Bridges
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-2">
													Filecoin Bridges
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="https://near.storage/"
															title="NEAR"
															target=""
															class="md-nav__link"
														>
															NEAR
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://eth.storage/"
															title="Polygon"
															target=""
															class="md-nav__link"
														>
															Polygon
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-3"
												type="checkbox"
												id="nav-3"
											/>

											<label class="md-nav__link" for="nav-3"> Hub </label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-3"> Hub </label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../../../hub/"
															title="Overview"
															target=""
															class="md-nav__link"
														>
															Overview
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../hub/accounts/"
															title="Installation & Setup"
															target=""
															class="md-nav__link"
														>
															Installation & Setup
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../hub/apis/"
															title="API Usage & Keys"
															target=""
															class="md-nav__link"
														>
															API Usage & Keys
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../hub/pricing/"
															title="Pricing"
															target=""
															class="md-nav__link"
														>
															Pricing
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-3-5"
															type="checkbox"
															id="nav-3-5"
														/>

														<label class="md-nav__link" for="nav-3-5">
															Buckets
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-3-5">
																Buckets
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../buckets/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../buckets/permissions/"
																		title="Permissions"
																		target=""
																		class="md-nav__link"
																	>
																		Permissions
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../buckets/archiving/"
																		title="Bucket Archiving"
																		target=""
																		class="md-nav__link"
																	>
																		Bucket Archiving
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../threads/"
															title="ThreadDB"
															target=""
															class="md-nav__link"
														>
															ThreadDB
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../users/"
															title="User Mailboxes"
															target=""
															class="md-nav__link"
														>
															User Mailboxes
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-3-8"
															type="checkbox"
															id="nav-3-8"
														/>

														<label class="md-nav__link" for="nav-3-8">
															Filecoin
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-3-8">
																Filecoin
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../filecoin/balances/"
																		title="Balances"
																		target=""
																		class="md-nav__link"
																	>
																		Balances
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../filecoin/miner-index/"
																		title="Miner Index"
																		target=""
																		class="md-nav__link"
																	>
																		Miner Index
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../filecoin/storage-deals/"
																		title="Storage Deals"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Deals
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-4"
												type="checkbox"
												id="nav-4"
											/>

											<label class="md-nav__link" for="nav-4">
												Powergate (Filecoin)
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-4">
													Powergate (Filecoin)
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../../../powergate/"
															title="Introduction"
															target=""
															class="md-nav__link"
														>
															Introduction
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../powergate/localnet/"
															title="Localnet"
															target=""
															class="md-nav__link"
														>
															Localnet
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../powergate/mainnet/"
															title="Mainnet"
															target=""
															class="md-nav__link"
														>
															Mainnet
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../powergate/admin/"
															title="Admin APIs"
															target=""
															class="md-nav__link"
														>
															Admin APIs
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-4-5"
															type="checkbox"
															id="nav-4-5"
														/>

														<label class="md-nav__link" for="nav-4-5">
															Store Data
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-4-5">
																Store Data
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../powergate/storage/"
																		title="Storing Data"
																		target=""
																		class="md-nav__link"
																	>
																		Storing Data
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/storageconfig/"
																		title="Storage Configs"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Configs
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../powergate/offline/"
															title="Offline Deals"
															target=""
															class="md-nav__link"
														>
															Offline Deals
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-4-7"
															type="checkbox"
															id="nav-4-7"
														/>

														<label class="md-nav__link" for="nav-4-7">
															POW CLI
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-4-7">
																POW CLI
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_config/"
																		title="Config"
																		target=""
																		class="md-nav__link"
																	>
																		Config
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_data/"
																		title="Data"
																		target=""
																		class="md-nav__link"
																	>
																		Data
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_deals/"
																		title="Deals"
																		target=""
																		class="md-nav__link"
																	>
																		Deals
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_storage-info/"
																		title="Storage Info"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Info
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_storage-jobs/"
																		title="Storage Jobs"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Jobs
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_wallet/"
																		title="Wallet"
																		target=""
																		class="md-nav__link"
																	>
																		Wallet
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../powergate/cli/pow_admin/"
																		title="Admin"
																		target=""
																		class="md-nav__link"
																	>
																		Admin
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../../../powergate/faq/"
															title="FAQ"
															target=""
															class="md-nav__link"
														>
															FAQ
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-powergate-client/"
															title="JavaScript"
															target="_blank"
															class="md-nav__link _blank"
														>
															JavaScript
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://godoc.org/github.com/textileio/powergate/api/client"
															title="Go"
															target="_blank"
															class="md-nav__link _blank"
														>
															Go
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-5"
												type="checkbox"
												id="nav-5"
											/>

											<label class="md-nav__link" for="nav-5">
												Command-line Reference
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-5">
													Command-line Reference
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-1"
															type="checkbox"
															id="nav-5-1"
														/>

														<label class="md-nav__link" for="nav-5-1">
															Hub admin
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-1">
																Hub admin
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_login/"
																		title="Login"
																		target=""
																		class="md-nav__link"
																	>
																		Login
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_logout/"
																		title="Logout"
																		target=""
																		class="md-nav__link"
																	>
																		Logout
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_whoami/"
																		title="Whoami"
																		target=""
																		class="md-nav__link"
																	>
																		Whoami
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_orgs/"
																		title="Orgs"
																		target=""
																		class="md-nav__link"
																	>
																		Orgs
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck/"
																		title="Buckets"
																		target=""
																		class="md-nav__link"
																	>
																		Buckets
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_threads/"
																		title="ThreadDB"
																		target=""
																		class="md-nav__link"
																	>
																		ThreadDB
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_fil/"
																		title="Powergate"
																		target=""
																		class="md-nav__link"
																	>
																		Powergate
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_version/"
																		title="Version"
																		target=""
																		class="md-nav__link"
																	>
																		Version
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_update/"
																		title="Update"
																		target=""
																		class="md-nav__link"
																	>
																		Update
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_keys/"
																		title="API Keys"
																		target=""
																		class="md-nav__link"
																	>
																		API Keys
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-2"
															type="checkbox"
															id="nav-5-2"
														/>

														<label class="md-nav__link" for="nav-5-2">
															Buckets commands
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-2">
																Buckets commands
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_add/"
																		title="Add"
																		target=""
																		class="md-nav__link"
																	>
																		Add
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_archive/"
																		title="Archive"
																		target=""
																		class="md-nav__link"
																	>
																		Archive
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_cat/"
																		title="Cat"
																		target=""
																		class="md-nav__link"
																	>
																		Cat
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_destroy/"
																		title="Destroy"
																		target=""
																		class="md-nav__link"
																	>
																		Destroy
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_decrypt/"
																		title="Decrypt"
																		target=""
																		class="md-nav__link"
																	>
																		Decrypt
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_encrypt/"
																		title="Encrypt"
																		target=""
																		class="md-nav__link"
																	>
																		Encrypt
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_existing/"
																		title="Existing"
																		target=""
																		class="md-nav__link"
																	>
																		Existing
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_get/"
																		title="Get"
																		target=""
																		class="md-nav__link"
																	>
																		Get
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_init/"
																		title="Init"
																		target=""
																		class="md-nav__link"
																	>
																		Init
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_links/"
																		title="Links"
																		target=""
																		class="md-nav__link"
																	>
																		Links
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_ls/"
																		title="Ls"
																		target=""
																		class="md-nav__link"
																	>
																		Ls
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_pull/"
																		title="Pull"
																		target=""
																		class="md-nav__link"
																	>
																		Pull
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_push/"
																		title="Push"
																		target=""
																		class="md-nav__link"
																	>
																		Push
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_watch/"
																		title="Watch"
																		target=""
																		class="md-nav__link"
																	>
																		Watch
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_root/"
																		title="Root"
																		target=""
																		class="md-nav__link"
																	>
																		Root
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_buck_status/"
																		title="Status"
																		target=""
																		class="md-nav__link"
																	>
																		Status
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-3"
															type="checkbox"
															id="nav-5-3"
														/>

														<label class="md-nav__link" for="nav-5-3">
															Billing commands
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-3">
																Billing commands
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_billing/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_billing_setup/"
																		title="Setup"
																		target=""
																		class="md-nav__link"
																	>
																		Setup
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_billing_portal/"
																		title="Portal"
																		target=""
																		class="md-nav__link"
																	>
																		Portal
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_billing_usage/"
																		title="Usage"
																		target=""
																		class="md-nav__link"
																	>
																		Usage
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../../../hub/cli/hub_billing_users/"
																		title="Users"
																		target=""
																		class="md-nav__link"
																	>
																		Users
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>

										<li
											class="md-nav__item md-nav__item--active md-nav__item--nested"
										>
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-6"
												type="checkbox"
												id="nav-6"
												checked
											/>

											<label class="md-nav__link" for="nav-6">
												JavaScript Guide
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-6">
													JavaScript Guide
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../web-app/"
															title="Introduction"
															target=""
															class="md-nav__link"
														>
															Introduction
														</a>
													</li>

													<li class="md-nav__item md-nav__item--active">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="toc"
															type="checkbox"
															id="__toc"
														/>

														<label
															class="md-nav__link md-nav__link--active"
															for="__toc"
														>
															User identities
														</label>

														<a
															href="./"
															title="User identities"
															class="md-nav__link md-nav__link--active"
														>
															User identities
														</a>

														<nav class="md-nav md-nav--secondary">
															<label class="md-nav__title" for="__toc"
																>Table of contents</label
															>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="#key-based-identity-access"
																		title="Key-based identity access"
																		class="md-nav__link"
																	>
																		Key-based identity access
																	</a>

																	<nav class="md-nav">
																		<ul class="md-nav__list">
																			<li class="md-nav__item">
																				<a
																					href="#generating-an-identity"
																					title="Generating an identity"
																					class="md-nav__link"
																				>
																					Generating an identity
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#caching-user-identity"
																					title="Caching user identity"
																					class="md-nav__link"
																				>
																					Caching user identity
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#signing-transactions"
																					title="Signing transactions"
																					class="md-nav__link"
																				>
																					Signing transactions
																				</a>
																			</li>
																		</ul>
																	</nav>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#advanced-identity-providers"
																		title="Advanced identity providers"
																		class="md-nav__link"
																	>
																		Advanced identity providers
																	</a>

																	<nav class="md-nav">
																		<ul class="md-nav__list">
																			<li class="md-nav__item">
																				<a
																					href="#public-key-provider"
																					title="Public key provider"
																					class="md-nav__link"
																				>
																					Public key provider
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#metamask"
																					title="Metamask"
																					class="md-nav__link"
																				>
																					Metamask
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#3box"
																					title="3Box"
																					class="md-nav__link"
																				>
																					3Box
																				</a>
																			</li>
																		</ul>
																	</nav>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#next-steps"
																		title="Next steps"
																		class="md-nav__link"
																	>
																		Next steps
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../development-mode/"
															title="Development mode"
															target=""
															class="md-nav__link"
														>
															Development mode
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../user-buckets/"
															title="Add images to Buckets"
															target=""
															class="md-nav__link"
														>
															Add images to Buckets
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../react-native-buckets/"
															title="User Buckets in React Native"
															target=""
															class="md-nav__link"
														>
															User Buckets in React Native
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../../nodejs/"
															title="Build with NodeJS"
															target=""
															class="md-nav__link"
														>
															Build with NodeJS
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../production-auth/"
															title="Production authentication"
															target=""
															class="md-nav__link"
														>
															Production authentication
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.users"
															title="Users API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															Users API Class
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.buckets"
															title="Buckets API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															Buckets API Class
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.client"
															title="ThreadDB API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															ThreadDB API Class
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-7"
												type="checkbox"
												id="nav-7"
											/>

											<label class="md-nav__link" for="nav-7">
												Go Reference
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-7">
													Go Reference
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../../go/getting-started/"
															title="Getting started with Go"
															target=""
															class="md-nav__link"
														>
															Getting started with Go
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/go-threads"
															title="ThreadDB"
															target="_blank"
															class="md-nav__link _blank"
														>
															ThreadDB
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/go-buckets"
															title="Buckets"
															target="_blank"
															class="md-nav__link _blank"
														>
															Buckets
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/textile#using-the-mail-library"
															title="User Mailboxes"
															target="_blank"
															class="md-nav__link _blank"
														>
															User Mailboxes
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-8"
												type="checkbox"
												id="nav-8"
											/>

											<label class="md-nav__link" for="nav-8">
												More Examples
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-8">
													More Examples
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-1"
															type="checkbox"
															id="nav-8-1"
														/>

														<label class="md-nav__link" for="nav-8-1">
															Users
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-1">
																Users
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/user-mailbox-setup"
																		title="User Mailboxes"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		User Mailboxes
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/metamask-identities-ed25519"
																		title="Metamask Identity"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Metamask Identity
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/3box-identities-ed25519"
																		title="3Box Identity"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		3Box Identity
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-2"
															type="checkbox"
															id="nav-8-2"
														/>

														<label class="md-nav__link" for="nav-8-2">
															ThreadDB
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-2">
																ThreadDB
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/hub-browser-auth-app"
																		title="Server-side Authentication"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Server-side Authentication
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/react-native-hub-app"
																		title="Threads from React Native (JavaScript)"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Threads from React Native (JavaScript)
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-3"
															type="checkbox"
															id="nav-8-3"
														/>

														<label class="md-nav__link" for="nav-8-3">
															Buckets
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-3">
																Buckets
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/bucket-photo-gallery"
																		title="User Galleries in Buckets"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		User Galleries in Buckets
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/react-native-hub-app"
																		title="Buckets from React Native (JavaScript)"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Buckets from React Native (JavaScript)
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>

					<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
						<div class="md-sidebar__scrollwrap">
							<div class="md-sidebar__inner">
								<nav class="md-nav md-nav--secondary">
									<label class="md-nav__title" for="__toc"
										>Table of contents</label
									>
									<ul class="md-nav__list" data-md-scrollfix>
										<li class="md-nav__item">
											<a
												href="#key-based-identity-access"
												title="Key-based identity access"
												class="md-nav__link"
											>
												Key-based identity access
											</a>

											<nav class="md-nav">
												<ul class="md-nav__list">
													<li class="md-nav__item">
														<a
															href="#generating-an-identity"
															title="Generating an identity"
															class="md-nav__link"
														>
															Generating an identity
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="#caching-user-identity"
															title="Caching user identity"
															class="md-nav__link"
														>
															Caching user identity
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="#signing-transactions"
															title="Signing transactions"
															class="md-nav__link"
														>
															Signing transactions
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item">
											<a
												href="#advanced-identity-providers"
												title="Advanced identity providers"
												class="md-nav__link"
											>
												Advanced identity providers
											</a>

											<nav class="md-nav">
												<ul class="md-nav__list">
													<li class="md-nav__item">
														<a
															href="#public-key-provider"
															title="Public key provider"
															class="md-nav__link"
														>
															Public key provider
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="#metamask"
															title="Metamask"
															class="md-nav__link"
														>
															Metamask
														</a>
													</li>

													<li class="md-nav__item">
														<a href="#3box" title="3Box" class="md-nav__link">
															3Box
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item">
											<a
												href="#next-steps"
												title="Next steps"
												class="md-nav__link"
											>
												Next steps
											</a>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>

					<div class="md-content">
						<article class="md-content__inner md-typeset">
							<a
								href="https://github.com/textileio/docs/edit/master/docs/tutorials/hub/pki-identities.md"
								title="Edit this page"
								class="md-icon md-content__icon"
								>&#xE3C9;</a
							>

							<h1 id="user-identities">
								User identities<a
									class="headerlink"
									href="#user-identities"
									title="Permanent link"
									>&para;</a
								>
							</h1>
							<p>
								This section will focus on how to create user identities with
								private-keys.
							</p>
							<p>
								The Textile Hub supports public-key infrastructure (PKI), which
								allows your app to integrate different PKI-based user identity
								providers (e.g. Metamask, 3Box, uPort, Blockstack) or roll your
								own.
							</p>
							<p>
								Most of our examples use a simple, platform-agnostic keypair
								identity based on
								<a href="https://en.wikipedia.org/wiki/EdDSA#Ed25519"
									>ed25519</a
								>
								and by extending the
								<a href="https://github.com/paulmillr/noble-ed25519"
									>Noble ed25519 library</a
								>.
							</p>
							<h2 id="key-based-identity-access">
								Key-based identity access<a
									class="headerlink"
									href="#key-based-identity-access"
									title="Permanent link"
									>&para;</a
								>
							</h2>
							<p>
								The Hub can help verify that users are who they claim to be by
								using encryption. The general flow is as follows:
							</p>
							<ol>
								<li>
									A <strong>user</strong> attempts to <em>sign-in</em> by
									providing their <strong>public key</strong>.
								</li>
								<li>
									Your <strong>app</strong> <em>creates</em> a one-time
									<strong>challenge</strong> for the users.
								</li>
								<li>
									The <strong>user</strong> <em>signs</em> the challenge with
									their <strong>private key</strong> to generate
									<strong>credentials</strong>.
								</li>
								<li>
									Your <strong>app</strong> <em>verifies</em> the
									<strong>credentials</strong>.
								</li>
							</ol>
							<p>
								Below, we'll simplify these steps by using the Hub's helpful
								token generation endpoint that <em>also</em> does credential
								verification.
							</p>
							<h3 id="generating-an-identity">
								Generating an identity<a
									class="headerlink"
									href="#generating-an-identity"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								In this example, we'll use an identity based on an ed25519
								signature scheme and made available through the
								<code>@textile/hub</code> library.
							</p>
							<p><strong>Install dependency</strong></p>
							<div class="highlight">
								<pre><span></span><code>npm install --save @textile/hub
</code></pre>
							</div>
							<p><strong>Generating Identities</strong></p>
							<p>
								You can use the <code>PrivateKey</code> utility to generate
								random new identities (private and public keys) and later, to
								sign challenges to prove private key ownership.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">PrivateKey</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span><span class="p">;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">example</span> <span class="p">()</span> <span class="p">{</span>
   <span class="cm">/** Random new identity */</span>
   <span class="kr">const</span> <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>

   <span class="cm">/** Convert to string. */</span>
   <span class="kr">const</span> <span class="nx">identityString</span> <span class="o">=</span> <span class="nx">identity</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>

   <span class="cm">/** Restore an identity object from a string */</span>
   <span class="kr">const</span> <span class="nx">restored</span> <span class="o">=</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromString</span><span class="p">(</span><span class="nx">identityString</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p>
								All of the instances above are different representations of the
								same user-generated by <code>PrivateKey.fromRandom()</code>.
							</p>
							<p>
								Each instance holds a different copy of the user's private key
								and therefore should remain private between your app and your
								user.
							</p>
							<h3 id="caching-user-identity">
								Caching user identity<a
									class="headerlink"
									href="#caching-user-identity"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								You can add simple client-side caching to store a user's
								identity in the browser and restore it when the user returns to
								the app.
							</p>
							<div class="admonition warning">
								<p class="admonition-title">Warning</p>
								<p>
									<code>localStorage</code> isn't a secure place to store
									secrets. <code>localStorage</code> access is also not
									guaranteed and may be cleared by the browser, the system, or
									the users. You should provide alternative storage mechanisms
									if maintaining identity (and therefore data ownership and
									access) over time is important.
								</p>
							</div>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">PrivateKey</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">getIdentity</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">()</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">PrivateKey</span><span class="o">&gt;</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="cm">/** Restore any cached user identity first */</span>
  <span class="kr">const</span> <span class="nx">cached</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="s2">&quot;user-private-identity&quot;</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">cached</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="cm">/** Convert the cached identity string to a PrivateKey and return */</span>
    <span class="k">return</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromString</span><span class="p">(</span><span class="nx">cached</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="cm">/** No cached identity existed, so create a new one */</span>
  <span class="kr">const</span> <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>
  <span class="cm">/** Add the string copy to the cache */</span>
  <span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="s2">&quot;user-private-identity&quot;</span><span class="p">,</span> <span class="nx">identity</span><span class="p">.</span><span class="nx">toString</span><span class="p">())</span>
  <span class="cm">/** Return the random identity */</span>
  <span class="k">return</span> <span class="nx">identity</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h3 id="signing-transactions">
								Signing transactions<a
									class="headerlink"
									href="#signing-transactions"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								The <code>PrivateKey</code> object contains a signing method
								that allows your app to sign arbitrary bytes for your users.
							</p>
							<p>
								You can create your own identity verification endpoint or use
								the Hub's token endpoint to verify the credentials.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">PrivateKey</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span><span class="p">;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">sign</span> <span class="p">(</span><span class="nx">identity</span>: <span class="kt">PrivateKey</span><span class="p">)</span> <span class="p">{</span>
   <span class="kr">const</span> <span class="nx">challenge</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="s1">&#39;Sign this string&#39;</span><span class="p">);</span>

   <span class="kr">const</span> <span class="nx">credentials</span> <span class="o">=</span> <span class="nx">identity</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">challenge</span><span class="p">);</span>

   <span class="k">return</span> <span class="nx">credentials</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h2 id="advanced-identity-providers">
								Advanced identity providers<a
									class="headerlink"
									href="#advanced-identity-providers"
									title="Permanent link"
									>&para;</a
								>
							</h2>
							<h3 id="public-key-provider">
								Public key provider<a
									class="headerlink"
									href="#public-key-provider"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								The code below shows two generic identity interfaces. You can
								import these interfaces from <code>@textile/hub</code>.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="c1">// Read more https://textileio.github.io/js-textile/docs/hub.public</span>
<span class="kr">interface</span> <span class="nx">Public</span> <span class="p">{</span>
  <span class="nx">verify</span><span class="p">(</span><span class="nx">data</span>: <span class="kt">Buffer</span><span class="p">,</span> <span class="nx">sig</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="kr">boolean</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="c1">// Read more https://textileio.github.io/js-textile/docs/hub.identity</span>
<span class="kr">interface</span> <span class="nx">Identity</span> <span class="p">{</span>
  <span class="nx">sign</span><span class="p">(</span><span class="nx">data</span>: <span class="kt">Buffer</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">Buffer</span><span class="o">&gt;</span>
  <span class="kr">public</span><span class="o">:</span> <span class="nx">Public</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p>
								<code>Identity</code> here represents any entity capable of
								signing a message.
							</p>
							<p>
								It requires that the implementer is capable of returning an
								associated public key for verification. This interface design
								was inspired by
								<a
									href="https://en.wikipedia.org/wiki/Public_key_infrastructure"
									>public key infrastructure</a
								>.
							</p>
							<p>
								In many cases, the <code>Identity</code> will just be a private
								key, but callers can use any setup that suits their needs.
							</p>
							<p>
								The default implementation is based on the
								<a href="https://github.com/paulmillr/noble-ed25519"
									>Noble ed25519 library</a
								>
								but many developers will want to use alternative identity
								provides, such as
								<a href="https://www.ceramic.network">3box/Ceramic</a>,
								<a href="https://fortmatic.com">Fortmatic</a>, and existing
								private/public key-pair, or a web3 provider such as
								<a href="https://metamask.io">Metamask</a>.
							</p>
							<p>Textile Hub also provides email-based identities.</p>
							<h3 id="metamask">
								Metamask<a
									class="headerlink"
									href="#metamask"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								One issue with the above workflow is that you need to help users
								store and recover their private keys.
							</p>
							<p>
								You could do this with your user model stored over an API.
								Alternatively, you can use any key-pair manager, such as
								<a href="https://metamask.io/">Metamask</a>. There are a few
								steps to generate a Textile compatible
								<code>identity</code> from the Metamask API.
							</p>
							<p>
								We've provided an example using Metamask
								<a
									href="https://github.com/textileio/js-examples/tree/master/metamask-identities-ed25519"
									>here</a
								>.
							</p>
							<p>
								In the above example, we allow you to generate a new ed25519 key
								for your users based on their Ethereum address in Metamask. This
								key is deterministic, meaning that as long as your user
								maintains access to their address in Metamask and their account
								secret, they can recover the same ed25519 key.
							</p>
							<p>
								This is handy if you don't want to store your user's private
								keys outside the app or use unreliable storage (e.g. local
								storage in browsers).
							</p>
							<p>It does this as follows:</p>
							<ol>
								<li>
									It <em>prompts</em> the <strong>user</strong> for a new
									<code>secret</code>. The secret helps ensure that another app
									cannot easily trick the user into generating their ed25519
									key.
								</li>
								<li>
									The <strong>app</strong> then <em>creates</em> a
									<strong>unique string</strong> that <em>contains</em> a
									<strong>hashed version</strong> of the
									<strong>secret, the app name, and some additional text</strong
									>. The <strong>app</strong> can <em>regenerate</em> this
									string at any time in the future if the user supplies their
									<strong>secret</strong>.
								</li>
								<li>
									The <strong>unique string</strong> is then
									<em>signed</em> with the
									<strong>user's Ethereum address</strong> by <em>using</em> the
									<strong>Metamask API</strong>.
								</li>
								<li>
									The <strong>resulting signature</strong> is used to
									<em>generate</em> an <strong>ed25519 key</strong> that can be
									used as an identity with all Textile APIs.
								</li>
							</ol>
							<p>
								There are some benefits to this approach over using the ethereum
								address directly. An obvious one is that there is no public
								association between an ethereum address and the ed25519 key.
							</p>
							<h3 id="3box">
								3Box<a class="headerlink" href="#3box" title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								Another good starting point is with
								<a href="https://docs.3box.io/">3Box SDK</a>. 3Box manages a
								cluster of nodes where web3 users can push small bits of
								information.
							</p>
							<p>
								3Box provides some helpful abstractions that integrate with
								Metamask and can help you create, manage, and recover keys for
								your users. In this approach, a user with a 3Box identity can
								use that identity to create and track Buckets or Threads
								generated on Textile.
							</p>
							<p>
								We've provided an
								<a
									href="https://github.com/textileio/js-examples/tree/master/3box-identities-ed25519"
									>example using 3Box here</a
								>.
							</p>
							<div class="admonition info">
								<p class="admonition-title">Info</p>
								<p>
									As of the time of writing, November 16, 2020, 3Box does not
									have Typescript typings available.
								</p>
							</div>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">PrivateKey</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="kr">const</span> <span class="nx">Box</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&quot;3box&quot;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">getIdentity</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">()</span><span class="o">:</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">PrivateKey</span><span class="o">&gt;</span> <span class="p">=&gt;</span> <span class="p">{</span>
 <span class="kr">const</span> <span class="nx">box</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Box</span><span class="p">.</span><span class="nx">create</span><span class="p">((</span><span class="nb">window</span> <span class="nx">as</span> <span class="nx">any</span><span class="p">).</span><span class="nx">ethereum</span><span class="p">)</span>
 <span class="kr">const</span> <span class="p">[</span><span class="nx">address</span><span class="p">]</span> <span class="o">=</span> <span class="nx">await</span> <span class="p">(</span><span class="nb">window</span> <span class="nx">as</span> <span class="nx">any</span><span class="p">).</span><span class="nx">ethereum</span><span class="p">.</span><span class="nx">enable</span><span class="p">()</span>
 <span class="nx">await</span> <span class="nx">box</span><span class="p">.</span><span class="nx">auth</span><span class="p">([],</span> <span class="p">{</span> <span class="nx">address</span> <span class="p">})</span>
 <span class="kr">const</span> <span class="nx">space</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">box</span><span class="p">.</span><span class="nx">openSpace</span><span class="p">(</span><span class="s1">&#39;io-textile-3box-docs&#39;</span><span class="p">)</span>
 <span class="nx">await</span> <span class="nx">box</span><span class="p">.</span><span class="nx">syncDone</span>
 <span class="kd">let</span> <span class="nx">identity</span><span class="o">:</span> <span class="nx">PrivateKey</span>
 <span class="k">try</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">storedIdent</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">space</span><span class="p">.</span><span class="kr">private</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;ed25519-identity&quot;</span><span class="p">)</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">storedIdent</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;No identity&#39;</span><span class="p">)</span>
   <span class="p">}</span>
   <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromString</span><span class="p">(</span><span class="nx">storedIdent</span><span class="p">)</span>
   <span class="k">return</span> <span class="nx">identity</span>
 <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">try</span> <span class="p">{</span>
     <span class="nx">identity</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>
     <span class="kr">const</span> <span class="nx">identityString</span> <span class="o">=</span> <span class="nx">identity</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
     <span class="nx">await</span> <span class="nx">space</span><span class="p">.</span><span class="kr">private</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;ed25519-identity&quot;</span><span class="p">,</span> <span class="nx">identityString</span><span class="p">)</span>
   <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span> <span class="nx">err</span><span class="p">.</span><span class="nx">message</span>
   <span class="p">}</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h2 id="next-steps">
								Next steps<a
									class="headerlink"
									href="#next-steps"
									title="Permanent link"
									>&para;</a
								>
							</h2>
							<p>
								Time to setup your app in
								<a href="../development-mode/">development mode</a>.
							</p>
							<p><br /></p>
						</article>
					</div>
				</div>
			</main>

			<footer class="md-footer">
				<div class="md-footer-nav">
					<nav class="md-footer-nav__inner md-grid">
						<a
							href="../web-app/"
							title="Introduction"
							class="md-flex md-footer-nav__link md-footer-nav__link--prev"
							rel="prev"
						>
							<div class="md-flex__cell md-flex__cell--shrink">
								<i
									class="md-icon md-icon--arrow-back md-footer-nav__button"
								></i>
							</div>
							<div
								class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"
							>
								<span class="md-flex__ellipsis">
									<span class="md-footer-nav__direction"> Previous </span>
									Introduction
								</span>
							</div>
						</a>

						<a
							href="../development-mode/"
							title="Development mode"
							class="md-flex md-footer-nav__link md-footer-nav__link--next"
							rel="next"
						>
							<div
								class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"
							>
								<span class="md-flex__ellipsis">
									<span class="md-footer-nav__direction"> Next </span>
									Development mode
								</span>
							</div>
							<div class="md-flex__cell md-flex__cell--shrink">
								<i
									class="md-icon md-icon--arrow-forward md-footer-nav__button"
								></i>
							</div>
						</a>
					</nav>
				</div>

				<div class="md-footer-meta md-typeset">
					<div class="md-footer-meta__inner md-grid">
						<div class="md-footer-copyright">
							<div class="md-footer-copyright__highlight">&copy; Textile</div>

							powered by
							<a href="https://www.mkdocs.org">MkDocs</a>
							and
							<a href="https://squidfunk.github.io/mkdocs-material/">
								Material for MkDocs</a
							>
						</div>

						<div class="md-footer-social">
							<link
								rel="stylesheet"
								href="../../../assets/fonts/font-awesome.css"
							/>

							<a
								href="https://textile.io"
								class="md-footer-social__link fa fa-globe"
							></a>

							<a
								href="https://github.com/textileio"
								class="md-footer-social__link fa fa-github-alt"
							></a>

							<a
								href="https://twitter.com/textileio"
								class="md-footer-social__link fa fa-twitter"
							></a>

							<a
								href="https://blog.textile.io/"
								class="md-footer-social__link fa fa-medium"
							></a>

							<a
								href="https://slack.textile.io"
								class="md-footer-social__link fa fa-slack"
							></a>
						</div>
					</div>
				</div>
			</footer>
		</div>

		<script src="../../../assets/javascripts/application.12aa63bf.js"></script>

		<script>
			app.initialize({ version: "1.1.2", url: { base: "../../.." } });
		</script>

		<script src="../../../js/sidebar.js"></script>

		<script src="../../../search/main.js"></script>
	</body>
</html>
