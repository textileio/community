<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta http-equiv="x-ua-compatible" content="ie=edge" />

		<meta
			name="description"
			content="Textile makes it easy for you or your application to store and distribute data over the IPFS network."
		/>

		<link rel="canonical" href="https://docs.textile.io/threads/" />

		<meta name="author" content="textile.io" />

		<meta name="lang:clipboard.copy" content="Copy to clipboard" />

		<meta name="lang:clipboard.copied" content="Copied to clipboard" />

		<meta name="lang:search.language" content="en" />

		<meta name="lang:search.pipeline.stopwords" content="True" />

		<meta name="lang:search.pipeline.trimmer" content="True" />

		<meta name="lang:search.result.none" content="No matching documents" />

		<meta name="lang:search.result.one" content="1 matching document" />

		<meta name="lang:search.result.other" content="# matching documents" />

		<meta name="lang:search.tokenizer" content="[\s\-]+" />

		<link rel="shortcut icon" href="../images/favicon.ico" />
		<meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.1.0" />

		<title>ThreadDB | Documentation | Textile</title>

		<link
			rel="stylesheet"
			href="../assets/stylesheets/application.86c34351.css"
		/>

		<link
			rel="stylesheet"
			href="../assets/stylesheets/application-palette.224b79ff.css"
		/>

		<meta name="theme-color" content="" />

		<script src="../assets/javascripts/modernizr.01ccdecf.js"></script>

		<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono"
		/>
		<style>
			body,
			input {
				font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif;
			}
			code,
			kbd,
			pre {
				font-family: "Roboto Mono", "Courier New", Courier, monospace;
			}
		</style>

		<link rel="stylesheet" href="../assets/fonts/material-icons.css" />

		<link rel="stylesheet" href="../css/textile.css" />

		<script src="https://cdn.usefathom.com/3.js" site="TEBMKXIY"></script>
		<script>
			window.fathom ||
				document.write(
					'<script src="https://grouse.textile.io/core.js"><\/script>'
				);
		</script>
	</head>

	<body
		dir="ltr"
		data-md-color-primary="default"
		data-md-color-accent="default"
	>
		<svg class="md-svg">
			<defs>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="416"
					height="448"
					viewBox="0 0 416 448"
					id="__github"
				>
					<path
						fill="currentColor"
						d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z"
					/>
				</svg>
			</defs>
		</svg>
		<input
			class="md-toggle"
			data-md-toggle="drawer"
			type="checkbox"
			id="__drawer"
			autocomplete="off"
		/>
		<input
			class="md-toggle"
			data-md-toggle="search"
			type="checkbox"
			id="__search"
			autocomplete="off"
		/>
		<label
			class="md-overlay"
			data-md-component="overlay"
			for="__drawer"
		></label>

		<a href="#getting-started" tabindex="1" class="md-skip">
			Skip to content
		</a>

		<header class="md-header" data-md-component="header">
			<nav class="md-header-nav md-grid">
				<div class="md-flex">
					<div class="md-flex__cell md-flex__cell--shrink">
						<a
							href="https://docs.textile.io/"
							title="Documentation"
							class="md-header-nav__button md-logo"
						>
							<img src="../images/hex.svg" width="24" height="24" />
						</a>
					</div>
					<div class="md-flex__cell md-flex__cell--shrink">
						<label
							class="md-icon md-icon--menu md-header-nav__button"
							for="__drawer"
						></label>
					</div>
					<div class="md-flex__cell md-flex__cell--stretch">
						<div
							class="md-flex__ellipsis md-header-nav__title"
							data-md-component="title"
						>
							<span class="md-header-nav__topic"> Documentation </span>
							<span class="md-header-nav__topic"> ThreadDB </span>
						</div>
					</div>
					<div class="md-flex__cell md-flex__cell--shrink">
						<label
							class="md-icon md-icon--search md-header-nav__button"
							for="__search"
						></label>

						<div class="md-search" data-md-component="search" role="dialog">
							<label class="md-search__overlay" for="__search"></label>
							<div class="md-search__inner" role="search">
								<form class="md-search__form" name="search">
									<input
										type="text"
										class="md-search__input"
										name="query"
										placeholder="Search"
										autocapitalize="off"
										autocorrect="off"
										autocomplete="off"
										spellcheck="false"
										data-md-component="query"
										data-md-state="active"
									/>
									<label class="md-icon md-search__icon" for="__search"></label>
									<button
										type="reset"
										class="md-icon md-search__icon"
										data-md-component="reset"
										tabindex="-1"
									>
										&#xE5CD;
									</button>
								</form>
								<div class="md-search__output">
									<div class="md-search__scrollwrap" data-md-scrollfix>
										<div class="md-search-result" data-md-component="result">
											<div class="md-search-result__meta">
												Type to start searching
											</div>
											<ol class="md-search-result__list"></ol>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="md-flex__cell md-flex__cell--shrink">
						<div class="md-header-nav__source">
							<a
								href="https://github.com/textileio/docs/"
								title="Go to repository"
								class="md-source"
								data-md-source="github"
							>
								<div class="md-source__icon">
									<svg viewBox="0 0 24 24" width="24" height="24">
										<use xlink:href="#__github" width="24" height="24"></use>
									</svg>
								</div>

								<div class="md-source__repository">textileio/docs</div>
							</a>
						</div>
					</div>
				</div>
			</nav>
		</header>

		<div class="md-container">
			<main class="md-main">
				<div class="md-main__inner md-grid" data-md-component="container">
					<div
						class="md-sidebar md-sidebar--primary"
						data-md-component="navigation"
					>
						<div class="md-sidebar__scrollwrap">
							<div class="md-sidebar__inner">
								<nav class="md-nav md-nav--primary" data-md-level="0">
									<label
										class="md-nav__title md-nav__title--site"
										for="__drawer"
									>
										<a
											href="https://docs.textile.io/"
											title="Documentation"
											class="md-nav__button md-logo"
										>
											<img src="../images/hex.svg" width="48" height="48" />
										</a>
										Documentation
									</label>

									<div class="md-nav__source">
										<a
											href="https://github.com/textileio/docs/"
											title="Go to repository"
											class="md-source"
											data-md-source="github"
										>
											<div class="md-source__icon">
												<svg viewBox="0 0 24 24" width="24" height="24">
													<use
														xlink:href="#__github"
														width="24"
														height="24"
													></use>
												</svg>
											</div>

											<div class="md-source__repository">textileio/docs</div>
										</a>
									</div>

									<ul class="md-nav__list" data-md-scrollfix>
										<li class="md-nav__item">
											<a href=".." title="Home" target="" class="md-nav__link">
												Home
											</a>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-2"
												type="checkbox"
												id="nav-2"
											/>

											<label class="md-nav__link" for="nav-2">
												Filecoin Bridges
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-2">
													Filecoin Bridges
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="https://near.storage/"
															title="NEAR"
															target=""
															class="md-nav__link"
														>
															NEAR
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://eth.storage/"
															title="Polygon"
															target=""
															class="md-nav__link"
														>
															Polygon
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li
											class="md-nav__item md-nav__item--active md-nav__item--nested"
										>
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-3"
												type="checkbox"
												id="nav-3"
												checked
											/>

											<label class="md-nav__link" for="nav-3"> Hub </label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-3"> Hub </label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../hub/"
															title="Overview"
															target=""
															class="md-nav__link"
														>
															Overview
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../hub/accounts/"
															title="Installation & Setup"
															target=""
															class="md-nav__link"
														>
															Installation & Setup
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../hub/apis/"
															title="API Usage & Keys"
															target=""
															class="md-nav__link"
														>
															API Usage & Keys
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../hub/pricing/"
															title="Pricing"
															target=""
															class="md-nav__link"
														>
															Pricing
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-3-5"
															type="checkbox"
															id="nav-3-5"
														/>

														<label class="md-nav__link" for="nav-3-5">
															Buckets
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-3-5">
																Buckets
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../buckets/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../buckets/permissions/"
																		title="Permissions"
																		target=""
																		class="md-nav__link"
																	>
																		Permissions
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../buckets/archiving/"
																		title="Bucket Archiving"
																		target=""
																		class="md-nav__link"
																	>
																		Bucket Archiving
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--active">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="toc"
															type="checkbox"
															id="__toc"
														/>

														<label
															class="md-nav__link md-nav__link--active"
															for="__toc"
														>
															ThreadDB
														</label>

														<a
															href="./"
															title="ThreadDB"
															class="md-nav__link md-nav__link--active"
														>
															ThreadDB
														</a>

														<nav class="md-nav md-nav--secondary">
															<label class="md-nav__title" for="__toc"
																>Table of contents</label
															>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="#thread-implementations"
																		title="Thread Implementations"
																		class="md-nav__link"
																	>
																		Thread Implementations
																	</a>

																	<nav class="md-nav">
																		<ul class="md-nav__list">
																			<li class="md-nav__item">
																				<a
																					href="#golang"
																					title="Golang"
																					class="md-nav__link"
																				>
																					Golang
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#javascript"
																					title="JavaScript"
																					class="md-nav__link"
																				>
																					JavaScript
																				</a>
																			</li>
																		</ul>
																	</nav>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#developer-api"
																		title="Developer API"
																		class="md-nav__link"
																	>
																		Developer API
																	</a>

																	<nav class="md-nav">
																		<ul class="md-nav__list">
																			<li class="md-nav__item">
																				<a
																					href="#important-concepts"
																					title="Important concepts"
																					class="md-nav__link"
																				>
																					Important concepts
																				</a>
																			</li>

																			<li class="md-nav__item">
																				<a
																					href="#creating-a-new-thread"
																					title="Creating a new thread"
																					class="md-nav__link"
																				>
																					Creating a new thread
																				</a>
																			</li>
																		</ul>
																	</nav>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#invite"
																		title="Invite"
																		class="md-nav__link"
																	>
																		Invite
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#collections"
																		title="Collections"
																		class="md-nav__link"
																	>
																		Collections
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#instances"
																		title="Instances"
																		class="md-nav__link"
																	>
																		Instances
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#query"
																		title="Query"
																		class="md-nav__link"
																	>
																		Query
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#listen"
																		title="Listen"
																		class="md-nav__link"
																	>
																		Listen
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#access-control"
																		title="Access-control"
																		class="md-nav__link"
																	>
																		Access-control
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#identity"
																		title="Identity"
																		class="md-nav__link"
																	>
																		Identity
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#connect-to-the-hub"
																		title="Connect to the Hub"
																		class="md-nav__link"
																	>
																		Connect to the Hub
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#pinning-relay-and-replication"
																		title="Pinning, Relay, and Replication"
																		class="md-nav__link"
																	>
																		Pinning, Relay, and Replication
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#installation"
																		title="Installation"
																		class="md-nav__link"
																	>
																		Installation
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="#advanced-details"
																		title="Advanced Details"
																		class="md-nav__link"
																	>
																		Advanced Details
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../users/"
															title="User Mailboxes"
															target=""
															class="md-nav__link"
														>
															User Mailboxes
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-3-8"
															type="checkbox"
															id="nav-3-8"
														/>

														<label class="md-nav__link" for="nav-3-8">
															Filecoin
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-3-8">
																Filecoin
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../filecoin/balances/"
																		title="Balances"
																		target=""
																		class="md-nav__link"
																	>
																		Balances
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../filecoin/miner-index/"
																		title="Miner Index"
																		target=""
																		class="md-nav__link"
																	>
																		Miner Index
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../filecoin/storage-deals/"
																		title="Storage Deals"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Deals
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-4"
												type="checkbox"
												id="nav-4"
											/>

											<label class="md-nav__link" for="nav-4">
												Powergate (Filecoin)
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-4">
													Powergate (Filecoin)
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../powergate/"
															title="Introduction"
															target=""
															class="md-nav__link"
														>
															Introduction
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../powergate/localnet/"
															title="Localnet"
															target=""
															class="md-nav__link"
														>
															Localnet
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../powergate/mainnet/"
															title="Mainnet"
															target=""
															class="md-nav__link"
														>
															Mainnet
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../powergate/admin/"
															title="Admin APIs"
															target=""
															class="md-nav__link"
														>
															Admin APIs
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-4-5"
															type="checkbox"
															id="nav-4-5"
														/>

														<label class="md-nav__link" for="nav-4-5">
															Store Data
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-4-5">
																Store Data
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../powergate/storage/"
																		title="Storing Data"
																		target=""
																		class="md-nav__link"
																	>
																		Storing Data
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/storageconfig/"
																		title="Storage Configs"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Configs
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../powergate/offline/"
															title="Offline Deals"
															target=""
															class="md-nav__link"
														>
															Offline Deals
														</a>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-4-7"
															type="checkbox"
															id="nav-4-7"
														/>

														<label class="md-nav__link" for="nav-4-7">
															POW CLI
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-4-7">
																POW CLI
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_config/"
																		title="Config"
																		target=""
																		class="md-nav__link"
																	>
																		Config
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_data/"
																		title="Data"
																		target=""
																		class="md-nav__link"
																	>
																		Data
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_deals/"
																		title="Deals"
																		target=""
																		class="md-nav__link"
																	>
																		Deals
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_storage-info/"
																		title="Storage Info"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Info
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_storage-jobs/"
																		title="Storage Jobs"
																		target=""
																		class="md-nav__link"
																	>
																		Storage Jobs
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_wallet/"
																		title="Wallet"
																		target=""
																		class="md-nav__link"
																	>
																		Wallet
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../powergate/cli/pow_admin/"
																		title="Admin"
																		target=""
																		class="md-nav__link"
																	>
																		Admin
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item">
														<a
															href="../powergate/faq/"
															title="FAQ"
															target=""
															class="md-nav__link"
														>
															FAQ
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-powergate-client/"
															title="JavaScript"
															target="_blank"
															class="md-nav__link _blank"
														>
															JavaScript
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://godoc.org/github.com/textileio/powergate/api/client"
															title="Go"
															target="_blank"
															class="md-nav__link _blank"
														>
															Go
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-5"
												type="checkbox"
												id="nav-5"
											/>

											<label class="md-nav__link" for="nav-5">
												Command-line Reference
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-5">
													Command-line Reference
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-1"
															type="checkbox"
															id="nav-5-1"
														/>

														<label class="md-nav__link" for="nav-5-1">
															Hub admin
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-1">
																Hub admin
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_login/"
																		title="Login"
																		target=""
																		class="md-nav__link"
																	>
																		Login
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_logout/"
																		title="Logout"
																		target=""
																		class="md-nav__link"
																	>
																		Logout
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_whoami/"
																		title="Whoami"
																		target=""
																		class="md-nav__link"
																	>
																		Whoami
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_orgs/"
																		title="Orgs"
																		target=""
																		class="md-nav__link"
																	>
																		Orgs
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck/"
																		title="Buckets"
																		target=""
																		class="md-nav__link"
																	>
																		Buckets
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_threads/"
																		title="ThreadDB"
																		target=""
																		class="md-nav__link"
																	>
																		ThreadDB
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_fil/"
																		title="Powergate"
																		target=""
																		class="md-nav__link"
																	>
																		Powergate
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_version/"
																		title="Version"
																		target=""
																		class="md-nav__link"
																	>
																		Version
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_update/"
																		title="Update"
																		target=""
																		class="md-nav__link"
																	>
																		Update
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_keys/"
																		title="API Keys"
																		target=""
																		class="md-nav__link"
																	>
																		API Keys
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-2"
															type="checkbox"
															id="nav-5-2"
														/>

														<label class="md-nav__link" for="nav-5-2">
															Buckets commands
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-2">
																Buckets commands
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_add/"
																		title="Add"
																		target=""
																		class="md-nav__link"
																	>
																		Add
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_archive/"
																		title="Archive"
																		target=""
																		class="md-nav__link"
																	>
																		Archive
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_cat/"
																		title="Cat"
																		target=""
																		class="md-nav__link"
																	>
																		Cat
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_destroy/"
																		title="Destroy"
																		target=""
																		class="md-nav__link"
																	>
																		Destroy
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_decrypt/"
																		title="Decrypt"
																		target=""
																		class="md-nav__link"
																	>
																		Decrypt
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_encrypt/"
																		title="Encrypt"
																		target=""
																		class="md-nav__link"
																	>
																		Encrypt
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_existing/"
																		title="Existing"
																		target=""
																		class="md-nav__link"
																	>
																		Existing
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_get/"
																		title="Get"
																		target=""
																		class="md-nav__link"
																	>
																		Get
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_init/"
																		title="Init"
																		target=""
																		class="md-nav__link"
																	>
																		Init
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_links/"
																		title="Links"
																		target=""
																		class="md-nav__link"
																	>
																		Links
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_ls/"
																		title="Ls"
																		target=""
																		class="md-nav__link"
																	>
																		Ls
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_pull/"
																		title="Pull"
																		target=""
																		class="md-nav__link"
																	>
																		Pull
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_push/"
																		title="Push"
																		target=""
																		class="md-nav__link"
																	>
																		Push
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_watch/"
																		title="Watch"
																		target=""
																		class="md-nav__link"
																	>
																		Watch
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_root/"
																		title="Root"
																		target=""
																		class="md-nav__link"
																	>
																		Root
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_buck_status/"
																		title="Status"
																		target=""
																		class="md-nav__link"
																	>
																		Status
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-5-3"
															type="checkbox"
															id="nav-5-3"
														/>

														<label class="md-nav__link" for="nav-5-3">
															Billing commands
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-5-3">
																Billing commands
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_billing/"
																		title="Overview"
																		target=""
																		class="md-nav__link"
																	>
																		Overview
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_billing_setup/"
																		title="Setup"
																		target=""
																		class="md-nav__link"
																	>
																		Setup
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_billing_portal/"
																		title="Portal"
																		target=""
																		class="md-nav__link"
																	>
																		Portal
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_billing_usage/"
																		title="Usage"
																		target=""
																		class="md-nav__link"
																	>
																		Usage
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="../hub/cli/hub_billing_users/"
																		title="Users"
																		target=""
																		class="md-nav__link"
																	>
																		Users
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-6"
												type="checkbox"
												id="nav-6"
											/>

											<label class="md-nav__link" for="nav-6">
												JavaScript Guide
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-6">
													JavaScript Guide
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../tutorials/hub/web-app/"
															title="Introduction"
															target=""
															class="md-nav__link"
														>
															Introduction
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/hub/pki-identities/"
															title="User identities"
															target=""
															class="md-nav__link"
														>
															User identities
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/hub/development-mode/"
															title="Development mode"
															target=""
															class="md-nav__link"
														>
															Development mode
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/hub/user-buckets/"
															title="Add images to Buckets"
															target=""
															class="md-nav__link"
														>
															Add images to Buckets
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/react-native-buckets/"
															title="User Buckets in React Native"
															target=""
															class="md-nav__link"
														>
															User Buckets in React Native
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/nodejs/"
															title="Build with NodeJS"
															target=""
															class="md-nav__link"
														>
															Build with NodeJS
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="../tutorials/hub/production-auth/"
															title="Production authentication"
															target=""
															class="md-nav__link"
														>
															Production authentication
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.users"
															title="Users API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															Users API Class
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.buckets"
															title="Buckets API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															Buckets API Class
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://textileio.github.io/js-textile/docs/hub.client"
															title="ThreadDB API Class"
															target="_blank"
															class="md-nav__link _blank"
														>
															ThreadDB API Class
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-7"
												type="checkbox"
												id="nav-7"
											/>

											<label class="md-nav__link" for="nav-7">
												Go Reference
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-7">
													Go Reference
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item">
														<a
															href="../tutorials/go/getting-started/"
															title="Getting started with Go"
															target=""
															class="md-nav__link"
														>
															Getting started with Go
														</a>
													</li>

													<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/go-threads"
															title="ThreadDB"
															target="_blank"
															class="md-nav__link _blank"
														>
															ThreadDB
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/go-buckets"
															title="Buckets"
															target="_blank"
															class="md-nav__link _blank"
														>
															Buckets
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="https://github.com/textileio/textile#using-the-mail-library"
															title="User Mailboxes"
															target="_blank"
															class="md-nav__link _blank"
														>
															User Mailboxes
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item md-nav__item--nested">
											<input
												class="md-toggle md-nav__toggle"
												data-md-toggle="nav-8"
												type="checkbox"
												id="nav-8"
											/>

											<label class="md-nav__link" for="nav-8">
												More Examples
											</label>
											<nav
												class="md-nav"
												data-md-component="collapsible"
												data-md-level="1"
											>
												<label class="md-nav__title" for="nav-8">
													More Examples
												</label>
												<ul class="md-nav__list" data-md-scrollfix>
													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-1"
															type="checkbox"
															id="nav-8-1"
														/>

														<label class="md-nav__link" for="nav-8-1">
															Users
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-1">
																Users
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/user-mailbox-setup"
																		title="User Mailboxes"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		User Mailboxes
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/metamask-identities-ed25519"
																		title="Metamask Identity"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Metamask Identity
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/3box-identities-ed25519"
																		title="3Box Identity"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		3Box Identity
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-2"
															type="checkbox"
															id="nav-8-2"
														/>

														<label class="md-nav__link" for="nav-8-2">
															ThreadDB
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-2">
																ThreadDB
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/hub-browser-auth-app"
																		title="Server-side Authentication"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Server-side Authentication
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/react-native-hub-app"
																		title="Threads from React Native (JavaScript)"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Threads from React Native (JavaScript)
																	</a>
																</li>
															</ul>
														</nav>
													</li>

													<li class="md-nav__item md-nav__item--nested">
														<input
															class="md-toggle md-nav__toggle"
															data-md-toggle="nav-8-3"
															type="checkbox"
															id="nav-8-3"
														/>

														<label class="md-nav__link" for="nav-8-3">
															Buckets
														</label>
														<nav
															class="md-nav"
															data-md-component="collapsible"
															data-md-level="2"
														>
															<label class="md-nav__title" for="nav-8-3">
																Buckets
															</label>
															<ul class="md-nav__list" data-md-scrollfix>
																<!-- Added the Externals filter so we could do target=_blank for a bit better ux -->

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/bucket-photo-gallery"
																		title="User Galleries in Buckets"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		User Galleries in Buckets
																	</a>
																</li>

																<li class="md-nav__item">
																	<a
																		href="https://github.com/textileio/js-examples/tree/master/react-native-hub-app"
																		title="Buckets from React Native (JavaScript)"
																		target="_blank"
																		class="md-nav__link _blank"
																	>
																		Buckets from React Native (JavaScript)
																	</a>
																</li>
															</ul>
														</nav>
													</li>
												</ul>
											</nav>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>

					<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
						<div class="md-sidebar__scrollwrap">
							<div class="md-sidebar__inner">
								<nav class="md-nav md-nav--secondary">
									<label class="md-nav__title" for="__toc"
										>Table of contents</label
									>
									<ul class="md-nav__list" data-md-scrollfix>
										<li class="md-nav__item">
											<a
												href="#thread-implementations"
												title="Thread Implementations"
												class="md-nav__link"
											>
												Thread Implementations
											</a>

											<nav class="md-nav">
												<ul class="md-nav__list">
													<li class="md-nav__item">
														<a
															href="#golang"
															title="Golang"
															class="md-nav__link"
														>
															Golang
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="#javascript"
															title="JavaScript"
															class="md-nav__link"
														>
															JavaScript
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item">
											<a
												href="#developer-api"
												title="Developer API"
												class="md-nav__link"
											>
												Developer API
											</a>

											<nav class="md-nav">
												<ul class="md-nav__list">
													<li class="md-nav__item">
														<a
															href="#important-concepts"
															title="Important concepts"
															class="md-nav__link"
														>
															Important concepts
														</a>
													</li>

													<li class="md-nav__item">
														<a
															href="#creating-a-new-thread"
															title="Creating a new thread"
															class="md-nav__link"
														>
															Creating a new thread
														</a>
													</li>
												</ul>
											</nav>
										</li>

										<li class="md-nav__item">
											<a href="#invite" title="Invite" class="md-nav__link">
												Invite
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#collections"
												title="Collections"
												class="md-nav__link"
											>
												Collections
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#instances"
												title="Instances"
												class="md-nav__link"
											>
												Instances
											</a>
										</li>

										<li class="md-nav__item">
											<a href="#query" title="Query" class="md-nav__link">
												Query
											</a>
										</li>

										<li class="md-nav__item">
											<a href="#listen" title="Listen" class="md-nav__link">
												Listen
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#access-control"
												title="Access-control"
												class="md-nav__link"
											>
												Access-control
											</a>
										</li>

										<li class="md-nav__item">
											<a href="#identity" title="Identity" class="md-nav__link">
												Identity
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#connect-to-the-hub"
												title="Connect to the Hub"
												class="md-nav__link"
											>
												Connect to the Hub
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#pinning-relay-and-replication"
												title="Pinning, Relay, and Replication"
												class="md-nav__link"
											>
												Pinning, Relay, and Replication
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#installation"
												title="Installation"
												class="md-nav__link"
											>
												Installation
											</a>
										</li>

										<li class="md-nav__item">
											<a
												href="#advanced-details"
												title="Advanced Details"
												class="md-nav__link"
											>
												Advanced Details
											</a>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>

					<div class="md-content">
						<article class="md-content__inner md-typeset">
							<img class="center" src="../images/threads-hero.png" />

							<a
								href="https://github.com/textileio/docs/edit/master/docs/threads/index.md"
								title="Edit this page"
								class="md-icon md-content__icon"
								>&#xE3C9;</a
							>

							<h1 id="getting-started">
								Getting Started<a
									class="headerlink"
									href="#getting-started"
									title="Permanent link"
									>&para;</a
								>
							</h1>
							<p>
								ThreadDB is a multi-party database built on
								<a href="https://ipfs.io">IPFS</a> and
								<a href="https://libp2p.io">Libp2p</a> that provides an
								alternative architecture for data on the web.
							</p>
							<p>
								ThreadDB aims to help power a new generation of web technologies
								by combining a novel use of event sourcing, Interplanetary
								Linked Data (<a href="https://ipld.io">IPLD</a>), and access
								control to provide a distributed, scalable, and flexible
								database solution for decentralized applications.
							</p>
							<h3 id="thread-implementations">
								Thread Implementations<a
									class="headerlink"
									href="#thread-implementations"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>There are two implementations of ThreadDB.</p>
							<h4 id="golang">
								Golang<a
									class="headerlink"
									href="#golang"
									title="Permanent link"
									>&para;</a
								>
							</h4>
							<p>
								The first is written in Go and the implementation reference can
								be found at
								<a href="https://github.com/textileio/go-threads/"
									>https://github.com/textileio/go-threads/</a
								>.
							</p>
							<p>In this reference, you'll find:</p>
							<ul>
								<li>All the latest components to use as a library.</li>
								<li>How to write trustless services.</li>
								<li>
									How to
									<a
										href="https://godoc.org/github.com/textileio/go-threads/api/client"
										>build a client</a
									>
									connected to a threads daemon.
								</li>
							</ul>
							<p>
								More documentation for the Go implementation will be coming in
								the future.
							</p>
							<h4 id="javascript">
								JavaScript<a
									class="headerlink"
									href="#javascript"
									title="Permanent link"
									>&para;</a
								>
							</h4>
							<p>
								The second implementation is written in JavaScript (Typescript,
								really). This implementation has some optimizations to make it
								more ideal when writing web applications. The JavaScript
								implementation is currently a Client of the Go implementation.
								You can run it against your own go-threads instance or connect
								it to the Textile Hub to use one of ours. Read more about the
								<a href="https://textileio.github.io/js-textile/docs/hub.client"
									>Client here</a
								>.
							</p>
							<p>
								In general, when building apps that use threads in a remote
								context, like the browser, it's best to push the networking
								later to remote services whenever possible (while using/allowing
								p2p when it works). You can also build your own remote relays
								and services using the
								<a href="https://github.com/textileio/go-threads/"
									>go-threads</a
								>
								library.
							</p>
							<p>
								For the rest of the explanation below, we'll focus on examples
								using the JavaScript library.
							</p>
							<h3 id="developer-api">
								Developer API<a
									class="headerlink"
									href="#developer-api"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								ThreadDB is designed to be simple enough for any developer to
								start using. The API will feel familiar to developers who have
								worked with technologies like MongoDB.
							</p>
							<h4 id="important-concepts">
								Important concepts<a
									class="headerlink"
									href="#important-concepts"
									title="Permanent link"
									>&para;</a
								>
							</h4>
							<p>
								The first three concepts developers will encounter with ThreadDB
								are <a href="#threads">Threads</a>,
								<a href="#collections">Collections</a>, and
								<a href="#instances">Instances</a>.
							</p>
							<ul>
								<li>
									<strong>Instances</strong> are the individual records you
									<em>create</em>, <em>update</em>, or <em>delete</em>.
								</li>
								<li>
									<strong>Instances</strong> are <em>stored</em> in a
									<strong>Collection</strong>.
								</li>
								<li>
									<strong>Collections</strong> <em>have</em> one or many
									<strong>Schemas</strong> and can only <em>store</em>
									<strong>Instances</strong> that <em>match</em> one of those
									<strong>Schemas</strong>.
								</li>
								<li>
									<strong>Databases</strong> can <em>store</em> many
									<strong>Collections</strong>.
								</li>
								<li>
									<strong>Collections</strong> are similar to
									<strong>Tables</strong> in other databases.
								</li>
								<li>
									A <strong>Thread</strong>-based <strong>Database</strong> is
									<em>tied</em> to a single <strong>Thread</strong> (with
									associated <strong>Thread</strong> ID).
								</li>
							</ul>
							<h4 id="creating-a-new-thread">
								Creating a new thread<a
									class="headerlink"
									href="#creating-a-new-thread"
									title="Permanent link"
									>&para;</a
								>
							</h4>
							<p>
								To start a new, empty Thread, with remote networking using the
								Hub APIs, initialize your Thread with the UserAuth object. You
								can read more about creating <code>UserAuth</code> objects in
								the
								<a href="../tutorials/hub/web-app/"
									>creating web apps tutorial</a
								>.
							</p>
							<p><strong>Create a new Thread API client</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">PrivateKey</span><span class="p">,</span> <span class="nx">UserAuth</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">setup</span> <span class="p">(</span><span class="nx">auth</span>: <span class="kt">UserAuth</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>

  <span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">Client</span><span class="p">.</span><span class="nx">withUserAuth</span><span class="p">(</span><span class="nx">auth</span><span class="p">)</span>

  <span class="k">return</span> <span class="nx">client</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p><strong>Authorize a new user to use your Hub API</strong></p>
							<p>
								You must generate a new API token for each user you want on your
								API.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">PrivateKey</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">newToken</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">user</span>: <span class="kt">PrivateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getToken</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">token</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p><strong>List a user's existing Threads</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">list</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">threads</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">listThreads</span><span class="p">()</span>
  <span class="k">return</span> <span class="nx">threads</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p><strong>Create a new database</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">Identity</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">,</span> <span class="nx">UserAuth</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">createDB</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">thread</span>: <span class="kt">ThreadID</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">newDB</span><span class="p">()</span>
  <span class="k">return</span> <span class="nx">thread</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p>
								Congrats! You now have a new ThreadDB! Each ThreadDB has a
								unique
								<a
									href="https://textileio.github.io/js-textile/docs/hub.threadid"
									>ThreadID</a
								>. You can create your own ThreadIDs, or easily generate a
								random ThreadID as we do in the above example.
							</p>
							<h3 id="invite">
								Invite<a
									class="headerlink"
									href="#invite"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								You can invite multiple users to the same thread. Use this to
								build chat apps, collaborative documents, and more.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">DBInfo</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">getInfo</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadID</span>: <span class="kt">ThreadID</span><span class="p">)</span><span class="o">:</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">DBInfo</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getDBInfo</span><span class="p">(</span><span class="nx">threadID</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">joinFromInfo</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">info</span>: <span class="kt">DBInfo</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">joinFromInfo</span><span class="p">(</span><span class="nx">info</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p>
								Once you get the DB info, you need to send that to the other
								users you want to join. To do that, we recommend the
								<a href="../users/">User Mailbox API</a>.
							</p>
							<h3 id="collections">
								Collections<a
									class="headerlink"
									href="#collections"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								<strong>Collections</strong> are used to handle different data
								structures in the same Database.
							</p>
							<p>
								Each <strong>Collection</strong> is defined by a
								<a href="https://json-schema.org/">json-schema.org schema</a>.
								These schemas define the <em>shape</em> of
								<strong>Collection</strong> Instances (the individual entries).
							</p>
							<p>
								<strong>Collections</strong> are similar to tables in other
								databases. Ultimately, a <strong>Collection</strong> is a single
								document store with a set of APIs to make it feel like a
								<em>local database table</em>.
							</p>
							<p>
								Collections can be <em>created</em> from an existing Schema or
								Object.
							</p>
							<p><strong>Create from schema</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span><span class="p">,</span> <span class="nx">ThreadID</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="c1">// Define a simple person schema</span>
<span class="kr">const</span> <span class="nx">schema</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">$schema</span><span class="o">:</span> <span class="s1">&#39;http://json-schema.org/draft-07/schema#&#39;</span><span class="p">,</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Person&#39;</span><span class="p">,</span>
  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;object&#39;</span><span class="p">,</span>
  <span class="nx">properties</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">_id</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="p">},</span>
    <span class="nx">name</span><span class="o">:</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;string&#39;</span> <span class="p">},</span>
    <span class="nx">missions</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;number&#39;</span><span class="p">,</span>
      <span class="nx">minimum</span>: <span class="kt">0</span><span class="p">,</span>
      <span class="nx">exclusiveMaximum</span>: <span class="kt">100</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">}</span>

<span class="c1">// Requires the started database we created above</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">collectionFromSchema</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadID</span>: <span class="kt">ThreadID</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">newCollection</span><span class="p">(</span><span class="nx">threadID</span><span class="p">,</span> <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Astronauts&#39;</span><span class="p">,</span> <span class="nx">schema</span>: <span class="kt">schema</span><span class="p">})</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h3 id="instances">
								Instances<a
									class="headerlink"
									href="#instances"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								Instances are the objects you store in your Collection.
								Instances are JSON documents with schemas that match those
								defined in your Collection.
							</p>
							<p><strong>Get all Instances</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">findEntity</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadId</span>: <span class="kt">ThreadID</span><span class="p">,</span> <span class="nx">collection</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">found</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">threadId</span><span class="p">,</span> <span class="nx">collection</span><span class="p">,</span> <span class="p">{})</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s1">&#39;found:&#39;</span><span class="p">,</span> <span class="nx">found</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
							</div>
							<p><strong>Add an Instance</strong></p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span><span class="nx">Client</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>
<span class="c1">// matches YourModel and schema</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">create</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadId</span>: <span class="kt">ThreadID</span><span class="p">,</span> <span class="nx">collection</span>: <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">created</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">threadId</span><span class="p">,</span> <span class="nx">collection</span><span class="p">,</span> <span class="p">[{</span>
    <span class="nx">some</span><span class="o">:</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span>
    <span class="nx">numbers</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
  <span class="p">}])</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h3 id="query">
								Query<a class="headerlink" href="#query" title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								Each Threads implementation supports query and look-up
								capabilities such as <code>insert</code>, <code>findOne</code>,
								<code>has</code>, and more. ThreadDB also supports the
								<a href="https://github.com/kofrasa/mingo"
									>MongoDB query language</a
								>. In the JavaScript library, you might write queries like the
								following.
							</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">,</span> <span class="nx">QueryJSON</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="c1">// Requires the started database we generated above containing the Player collection</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">createQuery</span> <span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadID</span>: <span class="kt">ThreadID</span><span class="p">,</span> <span class="nx">query</span>: <span class="kt">QueryJSON</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Get results</span>
  <span class="kr">const</span> <span class="nx">all</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">threadID</span><span class="p">,</span> <span class="s1">&#39;astronauts&#39;</span><span class="p">,</span> <span class="nx">query</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">all</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h3 id="listen">
								Listen<a
									class="headerlink"
									href="#listen"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>You can also subscribe to changes in a database.</p>
							<div class="highlight">
								<pre><span></span><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">Client</span><span class="p">,</span> <span class="nx">PrivateKey</span><span class="p">,</span> <span class="nx">ThreadID</span><span class="p">,</span> <span class="nx">Update</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@textile/hub&#39;</span>

<span class="kr">const</span> <span class="nx">userID</span> <span class="o">=</span> <span class="nx">PrivateKey</span><span class="p">.</span><span class="nx">fromRandom</span><span class="p">()</span>

<span class="kr">interface</span> <span class="nx">Astronaut</span> <span class="p">{</span>
  <span class="nx">_id</span>: <span class="kt">string</span>
  <span class="nx">name</span>: <span class="kt">string</span>
  <span class="nx">missions</span>: <span class="kt">number</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">callback</span> <span class="o">=</span> <span class="nx">async</span> <span class="p">(</span><span class="nx">reply?</span>: <span class="kt">Update</span><span class="o">&lt;</span><span class="nx">Astronaut</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">err?</span>: <span class="kt">Error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">reply</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Requires userID already be authenticated to the Users API</span>
<span class="nx">async</span> <span class="kd">function</span> <span class="nx">startListener</span><span class="p">(</span><span class="nx">client</span>: <span class="kt">Client</span><span class="p">,</span> <span class="nx">threadID</span>: <span class="kt">ThreadID</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">filters</span> <span class="o">=</span> <span class="p">[{</span><span class="nx">actionTypes</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;CREATE&#39;</span><span class="p">]}]</span>
  <span class="kr">const</span> <span class="nx">closer</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">listen</span><span class="o">&lt;</span><span class="nx">Astronaut</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">threadID</span><span class="p">,</span> <span class="nx">filters</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">closer</span>
<span class="p">}</span>
</code></pre>
							</div>
							<h3 id="access-control">
								Access-control<a
									class="headerlink"
									href="#access-control"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								ThreadDB uses a modular role-based access control system that
								allows access control lists (ACLs) to be declared in a wide
								variety of ways. ACLs are in active development and you can
								<a href="https://github.com/textileio/go-threads/issues/295"
									>follow the development here</a
								>.
							</p>
							<h3 id="identity">
								Identity<a
									class="headerlink"
									href="#identity"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								ThreadDB allows you to handle user identities (for access
								control and security/encryption) in the best way for your app
								and users.
							</p>
							<p>
								To handle <em>multiple</em> peers collaborating on a single
								database, as well as the ability to handle storage
								<em>on behalf</em> of a user, ThreadDB expects a simple Identity
								interface for signing and validating database updates. See the
								Hub documentation on
								<a href="../hub/apis/#user-identities">user identities</a> for
								details.
							</p>
							<h3 id="connect-to-the-hub">
								Connect to the Hub<a
									class="headerlink"
									href="#connect-to-the-hub"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<ol>
								<li>
									<a href="../hub/accounts/#account-setup">Create an Account</a>
								</li>
								<li>
									<a href="../hub/apis/#api-access">Create an App Token</a>
								</li>
								<li>
									<a
										href="https://textileio.github.io/js-textile"
										target="_blank"
										>Add the Textile Hub Library to your App</a
									>
								</li>
							</ol>
							<h3 id="pinning-relay-and-replication">
								Pinning, Relay, and Replication<a
									class="headerlink"
									href="#pinning-relay-and-replication"
									title="Permanent link"
									>&para;</a
								>
							</h3>
							<p>
								Thread Services (e.g. pinning encrypted data on IPFS and helping
								multiple peers relay updates across the network) can be built
								and deployed to the network using
								<a href="https://github.com/textileio/go-threads">go-threads</a
								>. Textile offers a number of these functions through the Hub.
								Attaching the Hub to your databases will allow you to deliver a
								high-quality user experience.
							</p>
							<h2 id="installation">
								Installation<a
									class="headerlink"
									href="#installation"
									title="Permanent link"
									>&para;</a
								>
							</h2>
							<p>
								ThreadDB can be used with many languages and has libraries
								written in JavaScript and Go. Find documentation on each of
								those libraries below.
							</p>
							<div class="txtl-options">
								<a href="https://textileio.github.io/js-threads/" class="box">
									<h5>JavaScript</h5>
									<p>Add Threads to NodeJS, React Native or browser apps.</p>
								</a>
								<span class="box-space"> </span>
								<a
									href="https://godoc.org/github.com/textileio/go-threads/api/client"
									class="box"
								>
									<h5>Golang</h5>
									<p>Use Threads in Go or compile to many other platforms.</p>
								</a>
								<span class="box-space"> </span>
								<span class="box-fill"> </span>
							</div>

							<h2 id="advanced-details">
								Advanced Details<a
									class="headerlink"
									href="#advanced-details"
									title="Permanent link"
									>&para;</a
								>
							</h2>
							<p>
								The protocols and design of ThreadDB can be explored in detail
								in the whitepaper:
								<a href="https://docsend.com/view/gu3ywqi"
									>A protocol &amp; event-sourced database for decentralized
									user-siloed data</a
								>.
							</p>
							<p>
								For further technical details, the reference implementation of
								Threads is written in Go and the full implementation details can
								be found
								<a href="https://godoc.org/github.com/textileio/go-threads"
									>on godocs</a
								>
								(jump to
								<a
									href="https://godoc.org/github.com/textileio/go-threads/api/client"
									>go-threads client</a
								>).
							</p>
						</article>
					</div>
				</div>
			</main>

			<footer class="md-footer">
				<div class="md-footer-nav">
					<nav class="md-footer-nav__inner md-grid">
						<a
							href="../buckets/archiving/"
							title="Bucket Archiving"
							class="md-flex md-footer-nav__link md-footer-nav__link--prev"
							rel="prev"
						>
							<div class="md-flex__cell md-flex__cell--shrink">
								<i
									class="md-icon md-icon--arrow-back md-footer-nav__button"
								></i>
							</div>
							<div
								class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"
							>
								<span class="md-flex__ellipsis">
									<span class="md-footer-nav__direction"> Previous </span>
									Bucket Archiving
								</span>
							</div>
						</a>

						<a
							href="../users/"
							title="User Mailboxes"
							class="md-flex md-footer-nav__link md-footer-nav__link--next"
							rel="next"
						>
							<div
								class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"
							>
								<span class="md-flex__ellipsis">
									<span class="md-footer-nav__direction"> Next </span>
									User Mailboxes
								</span>
							</div>
							<div class="md-flex__cell md-flex__cell--shrink">
								<i
									class="md-icon md-icon--arrow-forward md-footer-nav__button"
								></i>
							</div>
						</a>
					</nav>
				</div>

				<div class="md-footer-meta md-typeset">
					<div class="md-footer-meta__inner md-grid">
						<div class="md-footer-copyright">
							<div class="md-footer-copyright__highlight">&copy; Textile</div>

							powered by
							<a href="https://www.mkdocs.org">MkDocs</a>
							and
							<a href="https://squidfunk.github.io/mkdocs-material/">
								Material for MkDocs</a
							>
						</div>

						<div class="md-footer-social">
							<link rel="stylesheet" href="../assets/fonts/font-awesome.css" />

							<a
								href="https://textile.io"
								class="md-footer-social__link fa fa-globe"
							></a>

							<a
								href="https://github.com/textileio"
								class="md-footer-social__link fa fa-github-alt"
							></a>

							<a
								href="https://twitter.com/textileio"
								class="md-footer-social__link fa fa-twitter"
							></a>

							<a
								href="https://blog.textile.io/"
								class="md-footer-social__link fa fa-medium"
							></a>

							<a
								href="https://slack.textile.io"
								class="md-footer-social__link fa fa-slack"
							></a>
						</div>
					</div>
				</div>
			</footer>
		</div>

		<script src="../assets/javascripts/application.12aa63bf.js"></script>

		<script>
			app.initialize({ version: "1.1.2", url: { base: ".." } });
		</script>

		<script src="../js/sidebar.js"></script>

		<script src="../search/main.js"></script>
	</body>
</html>
